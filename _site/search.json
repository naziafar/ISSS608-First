[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Visual Analytics and Applications Coursework",
    "section": "",
    "text": "Hi, this is Nazia’s Visual Analytics Course website! You’ll find all my coursework here.\nAs I progress further in the course, there will be more additions and customizations to the site."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About Me",
    "section": "",
    "text": "Hello! I’m Nazia Faruqui, currently pursuing a Master of IT in Business at Singapore Management University (SMU). My academic journey focuses on building expertise at the intersection of business, data, and technology, with a strong emphasis on transforming data into meaningful insights that support informed decision-making.\nThis website serves as a portfolio of my work for the Visual Analytics and Applications course at SMU, where I apply analytical and visualisation techniques to explore complex datasets. Throughout this course, I use tools such as R, Quarto, and Tableau to develop interactive visualisations and communicate data-driven stories effectively.\nAs part of my broader postgraduate curriculum, I have also developed foundational skills in SQL and Python, strengthening my ability to manage, analyse, and interpret data across different platforms.\nPrior to my postgraduate studies, I gained over a year of professional experience in banking operations in Australia. This experience sharpened my attention to detail, enhanced my problem-solving abilities, and sparked my interest in leveraging data to improve business processes. I am now focused on expanding my technical capabilities while cultivating a strong analytical mindset for data-driven roles.\nI am passionate about continuous learning and committed to growing into a thoughtful and impactful analytics professional.\nThank you for visiting my website!"
  },
  {
    "objectID": "HE01.html",
    "href": "HE01.html",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "This exercise gives an overview of the basic principles and essential components of ggplot2. Upon completion of the exercise, you would have learned about the important graphical elements provided by ggplot2 that lets you create aesthetic yet functional statistical graphics."
  },
  {
    "objectID": "HE01.html#getting-started",
    "href": "HE01.html#getting-started",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "pacman::p_load(tidyverse)\n\n\nexam_data &lt;- read_csv(\"data/data/Exam_data.csv\")"
  },
  {
    "objectID": "HE01.html#introducing-ggplot",
    "href": "HE01.html#introducing-ggplot",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "ggplot2 is an R package for declaratively creating data-driven graphics based on The Grammar of Graphics.\nIt is also part of the tidyverse family specially designed for visual exploration and communication.\n\nR Graphicsggplot2\n\n\n\nhist(exam_data$MATHS)"
  },
  {
    "objectID": "HE01.html#section",
    "href": "HE01.html#section",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "hist(exam_data$MATHS)"
  },
  {
    "objectID": "HE01.html#installing-and-loading-the-required-libraries",
    "href": "HE01.html#installing-and-loading-the-required-libraries",
    "title": "Hands-on Exercise 1",
    "section": "2.1 Installing and loading the required libraries",
    "text": "2.1 Installing and loading the required libraries\nBefore we begin the exercise, we need to install R packages.\nThe code chunk below assumes that you already have pacman package installed.\n\npacman::p_load(tidyverse)"
  },
  {
    "objectID": "HE01.html#importing-data",
    "href": "HE01.html#importing-data",
    "title": "Hands-on Exercise 1",
    "section": "2.2 Importing data",
    "text": "2.2 Importing data\nThe code chunk below imports exam_data.csv into R environment by using read_csv() function of readr package (readr is one of the tidyverse packages).\n\nexam_data &lt;- read_csv(\"data/data/Exam_data.csv\")"
  },
  {
    "objectID": "HE01.html#r-graphics-vs-ggplot",
    "href": "HE01.html#r-graphics-vs-ggplot",
    "title": "Hands-on Exercise 1",
    "section": "R Graphics VS ggplot",
    "text": "R Graphics VS ggplot\nLet’s look at the difference between R Graphics (the core graphical functions of R Graphics) and ggplot by plotting a simple histogram.\n\nR Graphicsggplot2\n\n\n\nhist(exam_data$MATHS)\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_data, aes(x = MATHS)) +\n  geom_histogram(bins=10, \n                 boundary = 100,\n                 color=\"black\", \n                 fill=\"grey\") +\n  ggtitle(\"Distribution of Maths scores\")\n\n\n\n\n\n\n\n\n\n\n\nEven though the code chunk for gglplot is more complicated, it is preferred over R Graphics due to the following reason stated by Hadley Wickham\n“The transferable skills from ggplot2 are not the idiosyncrasies of plotting syntax, but a powerful way of thinking about visualisation, as a way of mapping between variables and the visual properties of geometric objects that you can perceive.”"
  },
  {
    "objectID": "HE01.html#a-layered-grammar-of-graphics",
    "href": "HE01.html#a-layered-grammar-of-graphics",
    "title": "Hands-on Exercise 1",
    "section": "4.1 A Layered Grammar of Graphics",
    "text": "4.1 A Layered Grammar of Graphics\nggplot2 is an implementation of Leland Wilkinson’s Grammar of Graphics.  There are seven grammars of ggplot2, as seen in the image and described below:\n\nData: The dataset being plotted.\nAesthetics take attributes of the data and use them to influence visual characteristics, such as position, colours, size, shape, or transparency.\nGeometrics: The visual elements used for our data, such as point, bar or line.\nFacets split the data into subsets to create multiple variations of the same graph (paneling, multiple plots).\nStatistics, statiscal transformations that summarise data (e.g. mean, confidence intervals).\nCoordinate systems define the plane on which data are mapped on the graphic.\nThemes modify all non-data components of a plot, such as main title, sub-title, y-aixs title, or legend background."
  },
  {
    "objectID": "HE01.html#geometric-objects-geom_bar",
    "href": "HE01.html#geometric-objects-geom_bar",
    "title": "Hands-on Exercise 1",
    "section": "7.1 Geometric Objects: geom_bar",
    "text": "7.1 Geometric Objects: geom_bar"
  },
  {
    "objectID": "HE01.html#geometric-objects-geom_dotplot",
    "href": "HE01.html#geometric-objects-geom_dotplot",
    "title": "Hands-on Exercise 1",
    "section": "7.2 Geometric Objects: geom_dotplot",
    "text": "7.2 Geometric Objects: geom_dotplot\nIn a dot plot, the width of a dot corresponds to the bin width (or maximum width, depending on the binning algorithm), and dots are stacked, with each dot representing one observation.\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(dotsize = 0.5)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWarningBe warned\n\n\n\nThe y scale is not very useful, and is very misleading.\n\n\n\n\n\n\n\n\nNote\n\n\n\nThe code chunk below performs the following two steps:\nscale_y_continuous() is used to turn off the y-axis, and\nbinwidth argument is used to change the binwidth to 2.5.\n\n\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(binwidth=2.5,         \n               dotsize = 0.5) +      \n  scale_y_continuous(NULL,           \n                     breaks = NULL)"
  },
  {
    "objectID": "HE01.html#geometric-objects-geom_histogram",
    "href": "HE01.html#geometric-objects-geom_histogram",
    "title": "Hands-on Exercise 1",
    "section": "7.3 Geometric Objects: geom_histogram()",
    "text": "7.3 Geometric Objects: geom_histogram()\nThe below code creates a simple histogram by using values in MATHS field of exam_data.\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_histogram()\n\n\n\n\n\n\n\n\nNote that the default bin is 30."
  },
  {
    "objectID": "HE01.html#modifying-a-geometric-object-by-changing-geom",
    "href": "HE01.html#modifying-a-geometric-object-by-changing-geom",
    "title": "Hands-on Exercise 1",
    "section": "7.4 Modifying a geometric object by changing geom()",
    "text": "7.4 Modifying a geometric object by changing geom()\n\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20,            \n                 color=\"black\",      \n                 fill=\"light blue\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nIn the code chunk above,\nbins argument is used to change the number of bins to 20,\nfill argument is used to shade the histogram with light blue color, and\ncolor argument is used to change the outline colour of the bars in black"
  },
  {
    "objectID": "HE01.html#modifying-a-geometric-object-by-changing-aes",
    "href": "HE01.html#modifying-a-geometric-object-by-changing-aes",
    "title": "Hands-on Exercise 1",
    "section": "7.5 Modifying a geometric object by changing aes()",
    "text": "7.5 Modifying a geometric object by changing aes()\nThe below code allows you to change the interior colour of the histogram (i.e. fill) by using sub-group of aesthetic().\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           fill = GENDER)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\")"
  },
  {
    "objectID": "HE01.html#geometric-objects-geom-density",
    "href": "HE01.html#geometric-objects-geom-density",
    "title": "Hands-on Exercise 1",
    "section": "7.6 Geometric Objects: geom-density()",
    "text": "7.6 Geometric Objects: geom-density()\ngeom-density() computes and plots kernel density estimate, which is a smoothed version of the histogram.\nThe code below plots the distribution of Maths scores in a kernel density estimate plot.\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_density()\n\n\n\n\n\n\n\n\nThe code chunk below plots two kernel density lines by using colour or fill arguments of aes()\n\nggplot(data=exam_data, \n       aes(x = MATHS, \n           colour = GENDER)) +\n  geom_density()"
  },
  {
    "objectID": "HE01.html#geometric-objects-geom_boxplot",
    "href": "HE01.html#geometric-objects-geom_boxplot",
    "title": "Hands-on Exercise 1",
    "section": "7.7 Geometric Objects: geom_boxplot",
    "text": "7.7 Geometric Objects: geom_boxplot\nIt displays continuous value list. It visualises five summary statistics (the median, two hinges and two whiskers), and all “outlying” points individually.\n\nggplot(data=exam_data, \n       aes(y = MATHS,       \n           x= GENDER)) +    \n  geom_boxplot()    \n\n\n\n\n\n\n\n\nNotches are used in box plots to help visually assess whether the medians of distributions differ. If the notches do not overlap, this is evidence that the medians are different.\nThe code chunk below plots the distribution of Maths scores by gender in notched plot instead of boxplot.\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_boxplot(notch=TRUE)"
  },
  {
    "objectID": "HE01.html#geometric-objects-geom_violin",
    "href": "HE01.html#geometric-objects-geom_violin",
    "title": "Hands-on Exercise 1",
    "section": "7.8 Geometric Objects: geom_violin",
    "text": "7.8 Geometric Objects: geom_violin\nViolin plots are a way of comparing multiple data distributions. It makes it easier to compare several distributions since they are placed side by side.\nThe code below plot the distribution of Maths score by gender in violin plot.\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_violin()"
  },
  {
    "objectID": "HE01.html#geometric-objects-geom_point",
    "href": "HE01.html#geometric-objects-geom_point",
    "title": "Hands-on Exercise 1",
    "section": "7.9 Geometric Objects: geom_point()",
    "text": "7.9 Geometric Objects: geom_point()\nThe code chunk below plots a scatterplot showing the Maths and English grades of pupils by using geom_point()\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point()"
  },
  {
    "objectID": "HE01.html#geom-objects-can-be-combined",
    "href": "HE01.html#geom-objects-can-be-combined",
    "title": "Hands-on Exercise 1",
    "section": "7.10 geom objects can be combined",
    "text": "7.10 geom objects can be combined\nBelow is an example of combining geom objects. The code chunk below plots the data points on the boxplots by using both geom_boxplot() and geom_point().\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_boxplot() +                    \n  geom_point(position=\"jitter\", \n             size = 0.5)"
  },
  {
    "objectID": "HE01.html#working-with-stat",
    "href": "HE01.html#working-with-stat",
    "title": "Hands-on Exercise 1",
    "section": "8.1 Working with stat()",
    "text": "8.1 Working with stat()\nThe boxplots below are incomplete because the positions of the means were not shown.\n\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot()"
  },
  {
    "objectID": "HE01.html#working-with-stat---the-stat_summary-method",
    "href": "HE01.html#working-with-stat---the-stat_summary-method",
    "title": "Hands-on Exercise 1",
    "section": "8.2 Working with stat - the stat_summary() method",
    "text": "8.2 Working with stat - the stat_summary() method\nThe code chunk below adds mean values by using the stat_summary() function and overriding the default geom.\n\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  stat_summary(geom = \"point\",       \n               fun = \"mean\",         \n               colour =\"red\",        \n               size=4)"
  },
  {
    "objectID": "HE01.html#working-with-stat---the-geom-method",
    "href": "HE01.html#working-with-stat---the-geom-method",
    "title": "Hands-on Exercise 1",
    "section": "8.3 Working with stat - the geom() method",
    "text": "8.3 Working with stat - the geom() method\nThe code chunk below adds mean values by using geom_() function and overriding the default stat.\n\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  geom_point(stat=\"summary\",        \n             fun=\"mean\",           \n             colour=\"red\",          \n             size=4)"
  },
  {
    "objectID": "HE01.html#adding-a-best-fit-curve-on-a-scatterplot",
    "href": "HE01.html#adding-a-best-fit-curve-on-a-scatterplot",
    "title": "Hands-on Exercise 1",
    "section": "8.4 Adding a best fit curve on a scatterplot?",
    "text": "8.4 Adding a best fit curve on a scatterplot?\nThe scatterplot below shows the relationship of Maths and English grades of pupils.\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() \n\n\n\n\n\n\n\n\nThe interpretability of this graph can be improved by adding a best fit curve. geom_smooth() is used to plot a best fit curve on the scatterplot.\n\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(size=0.5)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\n\nThe default method used is loess.\n\n\n\nThe default smoothing method can be overridden as shown below.\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              linewidth=0.5)"
  },
  {
    "objectID": "HE01.html#working-with-facet_wrap",
    "href": "HE01.html#working-with-facet_wrap",
    "title": "Hands-on Exercise 1",
    "section": "9.1 Working with facet_wrap()",
    "text": "9.1 Working with facet_wrap()\nIt wraps a 1d sequence of panels into 2d. This is generally a better use of screen space than facet_grid because most displays are roughly rectangular.\nThe code chunk below plots a trellis plot using facet_wrap():\n\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n    facet_wrap(~ CLASS)"
  },
  {
    "objectID": "HE01.html#facet_grid-function",
    "href": "HE01.html#facet_grid-function",
    "title": "Hands-on Exercise 1",
    "section": "9.2 facet_grid() function",
    "text": "9.2 facet_grid() function\nIt forms a matrix of panels defined by row and column facetting variables. It is most useful when you have two discrete variables, and all combinations of the variables exist in the data.\n\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n    facet_grid(~ CLASS)"
  },
  {
    "objectID": "HE01.html#working-with-coordinate",
    "href": "HE01.html#working-with-coordinate",
    "title": "Hands-on Exercise 1",
    "section": "10.1 Working with Coordinate",
    "text": "10.1 Working with Coordinate\nBy default, the bar chart of ggplot2 is in vertical form.\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar()\n\n\n\n\n\n\n\n\nThe code chunk below flips the horizontal bar chart into vertical bar chart by using coord_flip().\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip()"
  },
  {
    "objectID": "HE01.html#changing-the-y--and-x-axis-range",
    "href": "HE01.html#changing-the-y--and-x-axis-range",
    "title": "Hands-on Exercise 1",
    "section": "10.2 Changing the y- and x-axis range",
    "text": "10.2 Changing the y- and x-axis range\nThe scatterplot below is slightly misleading because the y-aixs and x-axis range are not equal.\n\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, size=0.5)\n\n\n\n\n\n\n\n\nThe code chunk below fixes the y-axis and x-axis range from 0 to 100.\n\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))"
  },
  {
    "objectID": "HE01.html#working-with-theme",
    "href": "HE01.html#working-with-theme",
    "title": "Hands-on Exercise 1",
    "section": "11.1 Working with theme",
    "text": "11.1 Working with theme\nThe code chunk below plots a horizontal bar chart using theme_gray().\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_gray()\n\n\n\n\n\n\n\n\nA horizontal bar chart plotted using theme_classic():\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_classic()\n\n\n\n\n\n\n\n\nA horizontal bar chart plotted using theme_minimal():\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_minimal()"
  },
  {
    "objectID": "HE02.html",
    "href": "HE02.html",
    "title": "Hands-on Exercise 2",
    "section": "",
    "text": "In this exercise, we will be introduced to several ggplot2 extensions for creating more elegant and effective statistical graphics. The goals of this exercise is to:\n\nControl the placement of annotation on a graph by using functions provided in ggrepel package,\ncreate professional publication quality figure by using functions provided in ggthemes and hrbrthemes packages, and\nplot composite figure by combining ggplot2 graphs by using patchwork package."
  },
  {
    "objectID": "HE02.html#installing-and-loading-the-required-libraries",
    "href": "HE02.html#installing-and-loading-the-required-libraries",
    "title": "Hands-on Exercise 2 - Beyond ggplot2 Fundamentals",
    "section": "2.1 Installing and loading the required libraries",
    "text": "2.1 Installing and loading the required libraries\nIn this exercise, beside tidyverse, four R packages will be used. They are:\n\nggrepel: an R package provides geoms for ggplot2 to repel overlapping text labels.\nggthemes: an R package provides some extra themes, geoms, and scales for ‘ggplot2’.\nhrbrthemes: an R package provides typography-centric themes and theme components for ggplot2.\npatchwork: an R package for preparing composite figure created using ggplot2.\n\nThe code chunk below will be used to check if these packages have been installed and also will load them onto our working R environment.\n\npacman::p_load(ggrepel,patchwork,ggthemes,hrbrthemes,tidyverse)\n\nPlease note: For the later versions of R, hrbrthemes package would need to be installed by downloading it from git using the code below, as the package has been removed from the CRAN repository.\nremotes::install_git(“https://codeberg.org/hrbrmstr/hrbrthemes.git”)"
  },
  {
    "objectID": "HE02.html#working-with-ggtheme-package",
    "href": "HE02.html#working-with-ggtheme-package",
    "title": "Hands-on Exercise 2",
    "section": "4.1 Working with ggtheme package",
    "text": "4.1 Working with ggtheme package\nggthemes provides ‘ggplot2’ themes that replicate the look of plots by Edward Tufte, Stephen Few, Fivethirtyeight, The Economist, ‘Stata’, ‘Excel’, and The Wall Street Journal, among others.\nBelow, we’re looking at an example where The Economist theme is used.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_economist()\n\n\n\n\nIt also provides some extra geoms and scales for ggplot2. Consult this vignette to learn more."
  },
  {
    "objectID": "HE02.html#working-with-hrbrthemes-package",
    "href": "HE02.html#working-with-hrbrthemes-package",
    "title": "Hands-on Exercise 2",
    "section": "4.2 Working with hrbrthemes package",
    "text": "4.2 Working with hrbrthemes package\nhrbrthemes package provides a base theme that focuses on typographic elements, including where various labels are placed as well as the fonts that are used.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Math scores\") +\n  theme_ipsum()\n\n\n\n\nThe second goal centers around productivity for a production workflow. In fact, this “production workflow” is the context for where the elements of hrbrthemes should be used. Consult this vignette to learn more.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Math scores\") +\n  theme_ipsum(axis_title_size = 18,\n              base_size = 15,\n              grid = \"Y\")\n\n\n\n\n\n\n\n\n\n\nTipWhat can we learn from the code chunk above?\n\n\n\n\naxis_title_size argument is used to increase the font size of the axis title to 18,\nbase_size argument is used to increase the default axis label to 15, and\ngrid argument is used to remove the x-axis grid lines."
  },
  {
    "objectID": "HE02.html#creating-composite-graphics-patchwork-methods",
    "href": "HE02.html#creating-composite-graphics-patchwork-methods",
    "title": "Hands-on Exercise 2",
    "section": "5.1 Creating composite graphics: patchwork methods",
    "text": "5.1 Creating composite graphics: patchwork methods\nThere are several ggplot2 extension’s functions support the needs to prepare composite figure by combining several graphs such as grid.arrange() of gridExtra package and plot_grid() of cowplot package. In this section, I am going to shared with you an ggplot2 extension called patchwork which is specially designed for combining separate ggplot2 graphs into a single figure.\nPatchwork package has a very simple syntax where we can create layouts super easily. Here’s the general syntax that combines:\n\nTwo-Column Layout using the Plus Sign +.\nParenthesis () to create a subplot group.\nTwo-Row Layout using the Division Sign /."
  },
  {
    "objectID": "HE02.html#combining-two-ggplot2-graphs",
    "href": "HE02.html#combining-two-ggplot2-graphs",
    "title": "Hands-on Exercise 2",
    "section": "5.2 Combining two ggplot2 graphs",
    "text": "5.2 Combining two ggplot2 graphs\nFigure in the tabset below shows a composite of two histograms created using patchwork. Note how simple the syntax used to create the plot is!\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\np1 + p2"
  },
  {
    "objectID": "HE02.html#combining-three-ggplot2-graphs",
    "href": "HE02.html#combining-three-ggplot2-graphs",
    "title": "Hands-on Exercise 2",
    "section": "5.3 Combining three ggplot2 graphs",
    "text": "5.3 Combining three ggplot2 graphs\nWe can plot more complex composite figures by using appropriate operators. For example, the composite figure below is plotted using the following:\n\n“/” operator to stack two ggplot2 graphs,\n“|” operator to place the plots beside each other,\n“()” operator the define the sequence of the plotting.\n\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(p1 / p2) | p3\n\n\n\n\nTo learn more about, refer to Plot Assembly."
  },
  {
    "objectID": "HE02.html#creating-a-composite-figure-with-tag",
    "href": "HE02.html#creating-a-composite-figure-with-tag",
    "title": "Hands-on Exercise 2",
    "section": "5.4 Creating a composite figure with tag",
    "text": "5.4 Creating a composite figure with tag\nIn order to identify subplots in text, patchwork also provides auto-tagging capabilities as shown below.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n((p1 / p2) | p3) + \n  plot_annotation(tag_levels = 'I')"
  },
  {
    "objectID": "HE02.html#creating-figure-with-inset",
    "href": "HE02.html#creating-figure-with-inset",
    "title": "Hands-on Exercise 2 - Beyond ggplot2 Fundamentals",
    "section": "5.5 Creating figure with inset",
    "text": "5.5 Creating figure with inset\n\np3 + inset_element(p2, \n                   left = 0.02, \n                   bottom = 0.7, \n                   right = 0.5, \n                   top = 1)"
  },
  {
    "objectID": "HE02.html#creating-a-composite-figure-by-using-patchwork-and-ggtheme",
    "href": "HE02.html#creating-a-composite-figure-by-using-patchwork-and-ggtheme",
    "title": "Hands-on Exercise 2",
    "section": "5.6 Creating a composite figure by using patchwork and ggtheme",
    "text": "5.6 Creating a composite figure by using patchwork and ggtheme\nBelow we are creating a figure by combining patchwork and The Economist theme of ggthemes package discussed earlier.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npatchwork &lt;- (p1 / p2) | p3\npatchwork & theme_economist()"
  },
  {
    "objectID": "HE02.html#the-code-6",
    "href": "HE02.html#the-code-6",
    "title": "Hands-on Exercise 2 - Beyond ggplot2 Fundamentals",
    "section": "The code",
    "text": "The code\n\np1 &lt;- ggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") + \n  coord_cartesian(xlim=c(0,100)) +\n  ggtitle(\"Distribution of Maths scores\")\n\n::: Next ::: panel-tabset ## The plot\n\nggplot(data=exam_data, \n       aes(x = ENGLISH)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  coord_cartesian(xlim=c(0,100)) +\n  ggtitle(\"Distribution of English scores\")"
  },
  {
    "objectID": "HE02.html#the-code-7",
    "href": "HE02.html#the-code-7",
    "title": "Hands-on Exercise 2 - Beyond ggplot2 Fundamentals",
    "section": "The code",
    "text": "The code\n\np2 &lt;- ggplot(data=exam_data, \n             aes(x = ENGLISH)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  coord_cartesian(xlim=c(0,100)) +\n  ggtitle(\"Distribution of English scores\")\n\n::: Lastly, we will draw a scatterplot for English score versus Math score as shown below\n\nThe plotThe code\n\n\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Math scores for Primary 3\")\n\n\n\n\n\n\n\n\n\n\n\np3 &lt;- ggplot(data=exam_data, \n             aes(x= MATHS, \n                 y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Math scores for Primary 3\")"
  },
  {
    "objectID": "HE02.html#the-code-8",
    "href": "HE02.html#the-code-8",
    "title": "Hands-on Exercise 2 - Beyond ggplot2 Fundamentals",
    "section": "The code",
    "text": "The code\n\np3 &lt;- ggplot(data=exam_data, \n             aes(x= MATHS, \n                 y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Math scores for Primary 3\")\n\n::: ## 5.1 Creating composite graphics: patchwork methods"
  },
  {
    "objectID": "HE02.html#the-plot-6",
    "href": "HE02.html#the-plot-6",
    "title": "Hands-on Exercise 2 - Beyond ggplot2 Fundamentals",
    "section": "The plot",
    "text": "The plot\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") + \n  coord_cartesian(xlim=c(0,100)) +\n  ggtitle(\"Distribution of Maths scores\")"
  },
  {
    "objectID": "HE02.html#creating-figures-with-inset",
    "href": "HE02.html#creating-figures-with-inset",
    "title": "Hands-on Exercise 2",
    "section": "5.5 Creating figures with inset",
    "text": "5.5 Creating figures with inset\nBesides providing functions to place plots next to each other based on the provided layout, with inset_element() of patchwork we can place one or more plots or graphic elements freely on top of or below another plot.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\np3 + inset_element(p2, \n                   left = 0.02, \n                   bottom = 0.7, \n                   right = 0.5, \n                   top = 1)"
  },
  {
    "objectID": "HE02.html#working-with-ggrepel",
    "href": "HE02.html#working-with-ggrepel",
    "title": "Hands-on Exercise 2",
    "section": "Working with ggrepel",
    "text": "Working with ggrepel\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) + \n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  geom_label_repel(aes(label = ID), \n                   fontface = \"bold\") +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")"
  },
  {
    "objectID": "HE03.html",
    "href": "HE03.html",
    "title": "Hands-on Exercise 3a",
    "section": "",
    "text": "In this hands-on exercise, we will learn how to create interactive data visualisation by using functions provided by ggiraph and plotlyr packages."
  },
  {
    "objectID": "HE03.html#tooltip-effect-with-tooltip-aesthetic",
    "href": "HE03.html#tooltip-effect-with-tooltip-aesthetic",
    "title": "Hands-on Exercise 3a",
    "section": "3.1 Tooltip effect with tooltip aesthetic",
    "text": "3.1 Tooltip effect with tooltip aesthetic\nBelow we look at a typical code chunk to plot an interactive statistical graph by using the ggiraph package. Notice that the code chunk consists of two parts. First, a ggplot object will be created. Next, girafe() of ggiraph will be used to create an interactive svg object.\n\np &lt;- ggplot(data=exam_data, \n            aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = ID),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\") +\n  scale_y_continuous(NULL,\n                     breaks = NULL)\ngirafe(\n  ggobj = p,\n  width_svg = 6,\n  height_svg = 6*0.618\n)\n\nAs mentioned above as well, there are two steps involved. First, an interactive version of ggplot2 geom ( geom_dotplot_interactive()) was used to create the basic graph. Then,  girafe() was be used to generate an svg object to be displayed on an html page.\nIn the plot below, we can see that by hovering the mouse pointer on a data point of interest, the student’s ID will be displayed."
  },
  {
    "objectID": "HE03.html#displaying-multiple-information-on-tooltip",
    "href": "HE03.html#displaying-multiple-information-on-tooltip",
    "title": "Hands-on Exercise 3a",
    "section": "3.2 Displaying multiple information on tooltip",
    "text": "3.2 Displaying multiple information on tooltip\nThe content of the tooltip can be customised by including a list object as shown in the code chunk below.\n\nexam_data$tooltip &lt;- c(paste0(     \n  \"Name = \", exam_data$ID,         \n  \"\\n Class = \", exam_data$CLASS)) \n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = exam_data$tooltip), \n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\") +\n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(\n  ggobj = p,\n  width_svg = 8,\n  height_svg = 8*0.618\n)\n\nThe first three lines of codes in the code above create a new field called tooltip. At the same time, it populates text in ID and CLASS fields into the newly created field. Next, this newly created field is used as tooltip field as shown in the code on line 7.\nBy hovering the mouse pointer on an data point of interest, the student’s ID and Class will be displayed."
  },
  {
    "objectID": "HE03.html#customising-tooltip-style",
    "href": "HE03.html#customising-tooltip-style",
    "title": "Hands-on Exercise 3a",
    "section": "3.3 Customising tooltip style",
    "text": "3.3 Customising tooltip style\nCode chunks below use opts_tooltip() of ggiraph to customize tooltip rendering by add css declarations.\n\nBlack and bold fontPink rectangle and round borders\n\n\n\n\nShow the code\ntooltip_css &lt;- \"background-color:white; #&lt;&lt;\nfont-style:bold; color:black;\" #&lt;&lt;\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(tooltip = ID),                   \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(    #&lt;&lt;\n    opts_tooltip(    #&lt;&lt;\n      css = tooltip_css)) #&lt;&lt;\n)                                        \n\n\n\n\n\n\nNotice that the background colour of the tooltip is black and the font colour is white and bold.\n\n\n\n\nShow the code\ntooltip_css &lt;- \"background-color:#d8118c; color:white;\npadding:5px; border-radius:3px;\" #&lt;&lt;\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(tooltip = ID),                   \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(    #&lt;&lt;\n    opts_tooltip(    #&lt;&lt;\n      css = tooltip_css)) #&lt;&lt;\n)                                \n\n\n\n\n\n\nNotice that the font colour is white and the background colour is pink with round borders.\n\n\n\nRefer to Customizing girafe objects to learn more about how to customise ggiraph objects."
  },
  {
    "objectID": "HE03.html#displaying-statistics-on-tooltip",
    "href": "HE03.html#displaying-statistics-on-tooltip",
    "title": "Hands-on Exercise 3a",
    "section": "3.4 Displaying statistics on tooltip",
    "text": "3.4 Displaying statistics on tooltip\nThe code chunk below shows an advanced way to customise the tooltip. In this example, a function is used to compute 90% confident interval of the mean. The derived statistics are then displayed in the tooltip.\n\ntooltip &lt;- function(y, ymax, accuracy = .01) {\n  mean &lt;- scales::number(y, accuracy = accuracy)\n  sem &lt;- scales::number(ymax - y, accuracy = accuracy)\n  paste(\"Mean maths scores:\", mean, \"+/-\", sem)\n}\n\ngg_point &lt;- ggplot(data=exam_data, \n                   aes(x = RACE),\n) +\n  stat_summary(aes(y = MATHS, \n                   tooltip = after_stat(  \n                     tooltip(y, ymax))),  \n    fun.data = \"mean_se\", \n    geom = GeomInteractiveCol,  \n    fill = \"light blue\"\n  ) +\n  stat_summary(aes(y = MATHS),\n    fun.data = mean_se,\n    geom = \"errorbar\", width = 0.2, size = 0.2\n  )\n\ngirafe(ggobj = gg_point,\n       width_svg = 8,\n       height_svg = 8*0.618)"
  },
  {
    "objectID": "HE03.html#hover-effect-with-data_id-aesthetic",
    "href": "HE03.html#hover-effect-with-data_id-aesthetic",
    "title": "Hands-on Exercise 3a",
    "section": "3.5 Hover effect with data_id aesthetic",
    "text": "3.5 Hover effect with data_id aesthetic\nThe code chunk below shows the second interactive feature of ggiraph, namely data_id.\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(           \n    aes(data_id = CLASS),             \n    stackgroups = TRUE,               \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618                      \n)\n\nInteractivity: Elements associated with a data_id (i.e CLASS in this case) will be highlighted upon mouse hover.\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThe default value of the hover css is hover_css = “fill:orange;”."
  },
  {
    "objectID": "HE03.html#styling-hover-effect",
    "href": "HE03.html#styling-hover-effect",
    "title": "Hands-on Exercise 3a",
    "section": "3.6 Styling hover effect",
    "text": "3.6 Styling hover effect\nIn the code chunk below, css codes are used to change the highlighting effect.\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(data_id = CLASS),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        \n    opts_hover(css = \"fill: #202020;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)                                        \n\nInteractivity: Elements associated with a data_id (i.e CLASS in this case) will be highlighted upon mouse hover.\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nUnlike the previous example, in this example the ccs customisation request is encoded directly."
  },
  {
    "objectID": "HE03.html#combining-tooltip-and-hover-effect",
    "href": "HE03.html#combining-tooltip-and-hover-effect",
    "title": "Hands-on Exercise 3a",
    "section": "3.7 Combining tooltip and hover effect",
    "text": "3.7 Combining tooltip and hover effect\nThere are times when we want to combine the tooltip and hover effects on the interactive statistical graph. We can do that using the code chunk below.\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(tooltip = CLASS, \n        data_id = CLASS),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        \n    opts_hover(css = \"fill: #202020;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)     \n\nInteractivity: Elements associated with a data_id (i.e CLASS) will be highlighted upon mouse hover. At the same time, the tooltip will show the CLASS."
  },
  {
    "objectID": "HE03.html#click-effect-with-onclick",
    "href": "HE03.html#click-effect-with-onclick",
    "title": "Hands-on Exercise 3a",
    "section": "3.8 Click effect with onclick",
    "text": "3.8 Click effect with onclick\nonclick argument of ggiraph provides hotlink interactivity on the web.\nThe code chunk below shows an example of onclick.\n\nexam_data$onclick &lt;- sprintf(\"window.open(\\\"%s%s\\\")\",\n\"https://www.moe.gov.sg/schoolfinder?journey=Primary%20school\",\nas.character(exam_data$ID))\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(onclick = onclick),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618)         \n\nInteractivity: Web document link with a data object will be displayed on the web browser upon mouse click.\n\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nNote that click actions must be a string column in the dataset containing valid javascript instructions."
  },
  {
    "objectID": "HE03.html#coordinated-multiple-views-with-ggiraph",
    "href": "HE03.html#coordinated-multiple-views-with-ggiraph",
    "title": "Hands-on Exercise 3a",
    "section": "3.9 Coordinated multiple views with ggiraph",
    "text": "3.9 Coordinated multiple views with ggiraph\nWe can see the coordinated multiple views method in the data visualisation below.\n\n\n\n\n\n\nNotice that when a data point of one of the dotplots is selected, the corresponding data point ID on the second data visualisation is highlighted as well.\nIn order to build a coordinated multiple views as shown in the example above, the following programming strategy will be used:\n\nAppropriate interactive functions of ggiraph will be used to create the multiple views.\npatchwork function of patchwork package will be used inside girafe function to create the interactive coordinated multiple views.\n\n\np1 &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(data_id = ID),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +  \n  coord_cartesian(xlim=c(0,100)) + \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\n\np2 &lt;- ggplot(data=exam_data, \n       aes(x = ENGLISH)) +\n  geom_dotplot_interactive(              \n    aes(data_id = ID),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") + \n  coord_cartesian(xlim=c(0,100)) + \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\n\ngirafe(code = print(p1 + p2), \n       width_svg = 6,\n       height_svg = 3,\n       options = list(\n         opts_hover(css = \"fill: #202020;\"),\n         opts_hover_inv(css = \"opacity:0.2;\")\n         )\n       ) \n\n\n\n\n\n\n\nNote\n\n\n\nThe data_id aesthetic is critical to link observations between plots while the tooltip aesthetic is optional but nice to have when the mouse hovers over a point."
  },
  {
    "objectID": "HE03.html#creating-an-interactive-scatter-plot-plot_ly-method",
    "href": "HE03.html#creating-an-interactive-scatter-plot-plot_ly-method",
    "title": "Hands-on Exercise 3a",
    "section": "4.1 Creating an interactive scatter plot: plot_ly() method",
    "text": "4.1 Creating an interactive scatter plot: plot_ly() method\nThe tabset below shows an example of a basic interactive plot created by using plot_ly()\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\nplot_ly(data = exam_data, \n             x = ~MATHS, \n             y = ~ENGLISH)"
  },
  {
    "objectID": "HE03.html#working-with-visual-variable-plot_ly-method",
    "href": "HE03.html#working-with-visual-variable-plot_ly-method",
    "title": "Hands-on Exercise 3a",
    "section": "4.2 Working with visual variable: plot_ly() method",
    "text": "4.2 Working with visual variable: plot_ly() method\nIn the code chunk below, the color argument is mapped to a qualitative visual variable (i.e. RACE).\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\nInteractive: Click on the colour symbol at the legend.\n\n\n\nplot_ly(data = exam_data, \n        x = ~ENGLISH, \n        y = ~MATHS, \n        color = ~RACE)"
  },
  {
    "objectID": "HE03.html#creating-an-interactive-scatter-plot-ggplotly-method",
    "href": "HE03.html#creating-an-interactive-scatter-plot-ggplotly-method",
    "title": "Hands-on Exercise 3a",
    "section": "4.3 Creating an interactive scatter plot: ggplotly() method",
    "text": "4.3 Creating an interactive scatter plot: ggplotly() method\nThe code chunk below plots an interactive scatter plot by using ggplotly().\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\np &lt;- ggplot(data=exam_data, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\nggplotly(p)\n\nNotice that the only extra line you need to include in the code chunk is ggplotly()."
  },
  {
    "objectID": "HE03.html#coordinated-multiple-views-with-plotly",
    "href": "HE03.html#coordinated-multiple-views-with-plotly",
    "title": "Hands-on Exercise 3a",
    "section": "4.4 Coordinated Multiple Views with plotly",
    "text": "4.4 Coordinated Multiple Views with plotly\nThe creation of a coordinated linked plot by using plotly involves three steps:\n\nhighlight_key() of plotly package is used as shared data.\ntwo scatterplots will be created by using ggplot2 functions.\nlastly, subplot() of plotly package is used to place them next to each other side-by-side.\n\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\nClick on a data point of one of the scatterplots and see how the corresponding point on the other scatterplot is selected.\n\n\n\nd &lt;- highlight_key(exam_data)\np1 &lt;- ggplot(data=d, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\np2 &lt;- ggplot(data=d, \n            aes(x = MATHS,\n                y = SCIENCE)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\nsubplot(ggplotly(p1),\n        ggplotly(p2))\n\n\n\n\nThing to learn from the code chunk:\n\nhighlight_key() simply creates an object of class crosstalk::SharedData.\nVisit this link to learn more about crosstalk."
  },
  {
    "objectID": "HE03.html#interactive-data-table-dt-package",
    "href": "HE03.html#interactive-data-table-dt-package",
    "title": "Hands-on Exercise 3a",
    "section": "5.1 Interactive Data Table: DT Package",
    "text": "5.1 Interactive Data Table: DT Package\n\nA wrapper of the JavaScript Library DataTables\nData objects in R can be rendered as HTML tables using the JavaScript library ‘DataTables’ (typically via R Markdown or Shiny).\n\n\nDT::datatable(exam_data, class = \"compact\")"
  },
  {
    "objectID": "HE03.html#linked-brushing-crosstalk-method",
    "href": "HE03.html#linked-brushing-crosstalk-method",
    "title": "Hands-on Exercise 3a",
    "section": "5.2 Linked brushing: Crosstalk method",
    "text": "5.2 Linked brushing: Crosstalk method\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe code chunk below is used to implement the coordinated brushing shown in the plot.\n\nd &lt;- highlight_key(exam_data) \np &lt;- ggplot(d, \n            aes(ENGLISH, \n                MATHS)) + \n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\ngg &lt;- highlight(ggplotly(p),        \n                \"plotly_selected\")  \n\ncrosstalk::bscols(gg,               \n                  DT::datatable(d), \n                  widths = 5)        \n\nThings to learn from the code chunk:\n\nhighlight() is a function of plotly package. It sets a variety of options for brushing (i.e., highlighting) multiple plots. These options are primarily designed for linking multiple plotly graphs, and may not behave as expected when linking plotly to another htmlwidget package via crosstalk. In some cases, other htmlwidgets will respect these options, such as persistent selection in leaflet.\nbscols() is a helper function of crosstalk package. It makes it easy to put HTML elements side by side. It can be called directly from the console but is especially designed to work in an R Markdown document. Warning: This will bring in all of Bootstrap!."
  },
  {
    "objectID": "HE03.html#ggiraph",
    "href": "HE03.html#ggiraph",
    "title": "Hands-on Exercise 3a",
    "section": "6.1 ggiraph",
    "text": "6.1 ggiraph\nThis link provides online version of the reference guide and several useful articles. Use this link to download the pdf version of the reference guide.\n\nHow to Plot With Ggiraph\nInteractive map of France with ggiraph\nCustom interactive sunbursts with ggplot in R\nThis link provides code example on how ggiraph is used to interactive graphs for Swiss Olympians - the solo specialists."
  },
  {
    "objectID": "HE03.html#plotly-for-r",
    "href": "HE03.html#plotly-for-r",
    "title": "Hands-on Exercise 3a",
    "section": "6.2 plotly for R",
    "text": "6.2 plotly for R\n\nGetting Started with Plotly in R\nA collection of plotly R graphs are available via this link.\nCarson Sievert (2020) Interactive web-based data visualization with R, plotly, and shiny, Chapman and Hall/CRC is the best resource to learn plotly for R. The online version is available via this link\nPlotly R Figure Reference provides a comprehensive discussion of each visual representations.\nPlotly R Library Fundamentals is a good place to learn the fundamental features of Plotly’s R API.\nGetting Started\nVisit this link for a very interesting implementation of gganimate by your senior.\nBuilding an animation step-by-step with gganimate.\nCreating a composite gif with multiple gganimate panels"
  },
  {
    "objectID": "HE03b.html",
    "href": "HE03b.html",
    "title": "Hands-on Exercise 3b",
    "section": "",
    "text": "When telling a visually-driven data story, animated graphics tend to attract the interest of the audience and make deeper impression than static graphics. In this hands-on exercise, we will learn how to create animated data visualisation by using gganimate and plotly r packages. At the same time, we will also learn how to\n\nreshape data by using tidyr package, and\nprocess, wrangle and transform data by using dplyr package.\n\n\nBasic concepts of animationTerminology\n\n\nWhen creating animations, the plot does not actually move. Instead, many individual plots are built and then stitched together as movie frames, just like an old-school flip book or cartoon. Each frame is a different plot when conveying motion, which is built using some relevant subset of the aggregate data. The subset drives the flow of the animation when stitched back together.\n\n\n\nBefore we dive into the steps for creating an animated statistical graph, it’s important to understand some of the key concepts and terminology related to this type of visualization.\n\nFrame: In an animated line graph, each frame represents a different point in time or a different category. When the frame changes, the data points on the graph are updated to reflect the new data.\nAnimation Attributes: The animation attributes are the settings that control how the animation behaves. For example, you can specify the duration of each frame, the easing function used to transition between frames, and whether to start the animation from the current frame or from the beginning.\n\n\n\n\n\n\n\nTip\n\n\n\nBefore you start making animated graphs, you should first ask yourself: Does it makes sense to go through the effort? If you are conducting an exploratory data analysis, a animated graphic may not be worth the time investment. However, if you are giving a presentation, a few well-placed animated graphics can help an audience connect with your topic remarkably better than static counterparts."
  },
  {
    "objectID": "HE03b.html#building-a-static-population-bubble-plot",
    "href": "HE03b.html#building-a-static-population-bubble-plot",
    "title": "Hands-on Exercise 3b",
    "section": "3.1 Building a static population bubble plot",
    "text": "3.1 Building a static population bubble plot\nIn the code chunk below, the basic ggplot2 functions are used to create a static bubble plot.\n\nggplot(globalPop, aes(x = Old, y = Young, \n                      size = Population, \n                      colour = Country)) +\n  geom_point(alpha = 0.7, \n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(title = 'Year: {frame_time}', \n       x = '% Aged', \n       y = '% Young')"
  },
  {
    "objectID": "HE03b.html#building-the-animated-bubble-plot",
    "href": "HE03b.html#building-the-animated-bubble-plot",
    "title": "Hands-on Exercise 3b",
    "section": "3.2 Building the animated bubble plot",
    "text": "3.2 Building the animated bubble plot\nIn the code chunk below,\n\ntransition_time() of gganimate is used to create transition through distinct states in time (i.e. Year).\nease_aes() is used to control easing of aesthetics. The default is linear. Other methods are: quadratic, cubic, quartic, quintic, sine, circular, exponential, elastic, back, and bounce.\n\n\nggplot(globalPop, aes(x = Old, y = Young, \n                      size = Population, \n                      colour = Country)) +\n  geom_point(alpha = 0.7, \n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(title = 'Year: {frame_time}', \n       x = '% Aged', \n       y = '% Young') +\n  transition_time(Year) +       \n  ease_aes('linear')"
  },
  {
    "objectID": "HE03b.html#building-an-animated-bubble-plot-ggplotly-method",
    "href": "HE03b.html#building-an-animated-bubble-plot-ggplotly-method",
    "title": "Hands-on Exercise 3b",
    "section": "4.1 Building an animated bubble plot: ggplotly() method",
    "text": "4.1 Building an animated bubble plot: ggplotly() method\nIn this sub-section, you will learn how to create an animated bubble plot by using ggplotly() method.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\nThe animated bubble plot above includes a play/pause button and a slider component for controlling the animation\n\n\n\ngg &lt;- ggplot(globalPop, \n       aes(x = Old, \n           y = Young, \n           size = Population, \n           colour = Country)) +\n  geom_point(aes(size = Population,\n                 frame = Year),\n             alpha = 0.7, \n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(x = '% Aged', \n       y = '% Young')\n\nggplotly(gg)\n\n\n\n\n\n\n\nTipThings to learn from the code chunk above\n\n\n\n\nAppropriate ggplot2 functions are used to create a static bubble plot. The output is then saved as an R object called gg.\nggplotly() is then used to convert the R graphic object into an animated svg object.\n\n\n\n\n\n\nNotice that although show.legend = FALSE argument was used, the legend still appears on the plot. To overcome this problem, theme(legend.position=‘none’) should be used as shown in the plot and code chunk below.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\ngg &lt;- ggplot(globalPop, \n       aes(x = Old, \n           y = Young, \n           size = Population, \n           colour = Country)) +\n  geom_point(aes(size = Population,\n                 frame = Year),\n             alpha = 0.7) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(x = '% Aged', \n       y = '% Young') + \n  theme(legend.position='none')\n\nggplotly(gg)"
  },
  {
    "objectID": "HE03b.html#building-an-animated-bubble-plot-plot_ly-method",
    "href": "HE03b.html#building-an-animated-bubble-plot-plot_ly-method",
    "title": "Hands-on Exercise 3b",
    "section": "4.2 Building an animated bubble plot: plot_ly() method",
    "text": "4.2 Building an animated bubble plot: plot_ly() method\nIn this sub-section, you will learn how to create an animated bubble plot by using plot_ly() method.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\nbp &lt;- globalPop %&gt;%\n  plot_ly(x = ~Old, \n          y = ~Young, \n          size = ~Population, \n          color = ~Continent,\n          sizes = c(2, 100),\n          frame = ~Year, \n          text = ~Country, \n          hoverinfo = \"text\",\n          type = 'scatter',\n          mode = 'markers'\n          ) %&gt;%\n  layout(showlegend = FALSE)\nbp"
  },
  {
    "objectID": "exercises/HE01.html",
    "href": "exercises/HE01.html",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "This exercise gives an overview of the basic principles and essential components of ggplot2. Upon completion of the exercise, you would have learned about the important graphical elements provided by ggplot2 that lets you create aesthetic yet functional statistical graphics."
  },
  {
    "objectID": "exercises/HE01.html#installing-and-loading-the-required-libraries",
    "href": "exercises/HE01.html#installing-and-loading-the-required-libraries",
    "title": "Hands-on Exercise 1",
    "section": "2.1 Installing and loading the required libraries",
    "text": "2.1 Installing and loading the required libraries\nBefore we begin the exercise, we need to install R packages.\nThe code chunk below assumes that you already have pacman package installed.\n\npacman::p_load(tidyverse)"
  },
  {
    "objectID": "exercises/HE01.html#importing-data",
    "href": "exercises/HE01.html#importing-data",
    "title": "Hands-on Exercise 1",
    "section": "2.2 Importing data",
    "text": "2.2 Importing data\nThe code chunk below imports exam_data.csv into R environment by using read_csv() function of readr package (readr is one of the tidyverse packages).\n\nexam_data &lt;- read_csv(\"../data/Exam_data.csv\")"
  },
  {
    "objectID": "exercises/HE01.html#r-graphics-vs-ggplot",
    "href": "exercises/HE01.html#r-graphics-vs-ggplot",
    "title": "Hands-on Exercise 1",
    "section": "R Graphics VS ggplot",
    "text": "R Graphics VS ggplot\nLet’s look at the difference between R Graphics (the core graphical functions of R Graphics) and ggplot by plotting a simple histogram.\n\nR Graphicsggplot2\n\n\n\nhist(exam_data$MATHS)\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_data, aes(x = MATHS)) +\n  geom_histogram(bins=10, \n                 boundary = 100,\n                 color=\"black\", \n                 fill=\"grey\") +\n  ggtitle(\"Distribution of Maths scores\")\n\n\n\n\n\n\n\n\n\n\n\nEven though the code chunk for gglplot is more complicated, it is preferred over R Graphics due to the following reason stated by Hadley Wickham\n“The transferable skills from ggplot2 are not the idiosyncrasies of plotting syntax, but a powerful way of thinking about visualisation, as a way of mapping between variables and the visual properties of geometric objects that you can perceive.”"
  },
  {
    "objectID": "exercises/HE01.html#a-layered-grammar-of-graphics",
    "href": "exercises/HE01.html#a-layered-grammar-of-graphics",
    "title": "Hands-on Exercise 1",
    "section": "4.1 A Layered Grammar of Graphics",
    "text": "4.1 A Layered Grammar of Graphics\nggplot2 is an implementation of Leland Wilkinson’s Grammar of Graphics.\n\nThere are seven grammars of ggplot2, as seen in the image and described below:\n\nData: The dataset being plotted.\nAesthetics take attributes of the data and use them to influence visual characteristics, such as position, colours, size, shape, or transparency.\nGeometrics: The visual elements used for our data, such as point, bar or line.\nFacets split the data into subsets to create multiple variations of the same graph (paneling, multiple plots).\nStatistics, statiscal transformations that summarise data (e.g. mean, confidence intervals).\nCoordinate systems define the plane on which data are mapped on the graphic.\nThemes modify all non-data components of a plot, such as main title, sub-title, y-aixs title, or legend background."
  },
  {
    "objectID": "exercises/HE01.html#geometric-objects-geom_dotplot",
    "href": "exercises/HE01.html#geometric-objects-geom_dotplot",
    "title": "Hands-on Exercise 1",
    "section": "7.2 Geometric Objects: geom_dotplot",
    "text": "7.2 Geometric Objects: geom_dotplot\nIn a dot plot, the width of a dot corresponds to the bin width (or maximum width, depending on the binning algorithm), and dots are stacked, with each dot representing one observation.\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(dotsize = 0.5)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWarningBe warned\n\n\n\nThe y scale is not very useful, and is very misleading.\n\n\n\n\n\n\n\n\nNote\n\n\n\nThe code chunk below performs the following two steps:\nscale_y_continuous() is used to turn off the y-axis, and\nbinwidth argument is used to change the binwidth to 2.5.\n\n\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot(binwidth=2.5,         \n               dotsize = 0.5) +      \n  scale_y_continuous(NULL,           \n                     breaks = NULL)"
  },
  {
    "objectID": "exercises/HE01.html#geometric-objects-geom_histogram",
    "href": "exercises/HE01.html#geometric-objects-geom_histogram",
    "title": "Hands-on Exercise 1",
    "section": "7.3 Geometric Objects: geom_histogram()",
    "text": "7.3 Geometric Objects: geom_histogram()\nThe below code creates a simple histogram by using values in MATHS field of exam_data.\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_histogram()\n\n\n\n\n\n\n\n\nNote that the default bin is 30."
  },
  {
    "objectID": "exercises/HE01.html#modifying-a-geometric-object-by-changing-geom",
    "href": "exercises/HE01.html#modifying-a-geometric-object-by-changing-geom",
    "title": "Hands-on Exercise 1",
    "section": "7.4 Modifying a geometric object by changing geom()",
    "text": "7.4 Modifying a geometric object by changing geom()\n\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20,            \n                 color=\"black\",      \n                 fill=\"light blue\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nIn the code chunk above,\nbins argument is used to change the number of bins to 20,\nfill argument is used to shade the histogram with light blue color, and\ncolor argument is used to change the outline colour of the bars in black"
  },
  {
    "objectID": "exercises/HE01.html#modifying-a-geometric-object-by-changing-aes",
    "href": "exercises/HE01.html#modifying-a-geometric-object-by-changing-aes",
    "title": "Hands-on Exercise 1",
    "section": "7.5 Modifying a geometric object by changing aes()",
    "text": "7.5 Modifying a geometric object by changing aes()\nThe below code allows you to change the interior colour of the histogram (i.e. fill) by using sub-group of aesthetic().\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           fill = GENDER)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\")"
  },
  {
    "objectID": "exercises/HE01.html#geometric-objects-geom-density",
    "href": "exercises/HE01.html#geometric-objects-geom-density",
    "title": "Hands-on Exercise 1",
    "section": "7.6 Geometric Objects: geom-density()",
    "text": "7.6 Geometric Objects: geom-density()\ngeom-density() computes and plots kernel density estimate, which is a smoothed version of the histogram.\nThe code below plots the distribution of Maths scores in a kernel density estimate plot.\n\nggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_density()\n\n\n\n\n\n\n\n\nThe code chunk below plots two kernel density lines by using colour or fill arguments of aes()\n\nggplot(data=exam_data, \n       aes(x = MATHS, \n           colour = GENDER)) +\n  geom_density()"
  },
  {
    "objectID": "exercises/HE01.html#geometric-objects-geom_boxplot",
    "href": "exercises/HE01.html#geometric-objects-geom_boxplot",
    "title": "Hands-on Exercise 1",
    "section": "7.7 Geometric Objects: geom_boxplot",
    "text": "7.7 Geometric Objects: geom_boxplot\nIt displays continuous value list. It visualises five summary statistics (the median, two hinges and two whiskers), and all “outlying” points individually.\n\nggplot(data=exam_data, \n       aes(y = MATHS,       \n           x= GENDER)) +    \n  geom_boxplot()    \n\n\n\n\n\n\n\n\nNotches are used in box plots to help visually assess whether the medians of distributions differ. If the notches do not overlap, this is evidence that the medians are different.\nThe code chunk below plots the distribution of Maths scores by gender in notched plot instead of boxplot.\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_boxplot(notch=TRUE)"
  },
  {
    "objectID": "exercises/HE01.html#geometric-objects-geom_violin",
    "href": "exercises/HE01.html#geometric-objects-geom_violin",
    "title": "Hands-on Exercise 1",
    "section": "7.8 Geometric Objects: geom_violin",
    "text": "7.8 Geometric Objects: geom_violin\nViolin plots are a way of comparing multiple data distributions. It makes it easier to compare several distributions since they are placed side by side.\nThe code below plot the distribution of Maths score by gender in violin plot.\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_violin()"
  },
  {
    "objectID": "exercises/HE01.html#geometric-objects-geom_point",
    "href": "exercises/HE01.html#geometric-objects-geom_point",
    "title": "Hands-on Exercise 1",
    "section": "7.9 Geometric Objects: geom_point()",
    "text": "7.9 Geometric Objects: geom_point()\nThe code chunk below plots a scatterplot showing the Maths and English grades of pupils by using geom_point()\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point()"
  },
  {
    "objectID": "exercises/HE01.html#geom-objects-can-be-combined",
    "href": "exercises/HE01.html#geom-objects-can-be-combined",
    "title": "Hands-on Exercise 1",
    "section": "7.10 geom objects can be combined",
    "text": "7.10 geom objects can be combined\nBelow is an example of combining geom objects. The code chunk below plots the data points on the boxplots by using both geom_boxplot() and geom_point().\n\nggplot(data=exam_data, \n       aes(y = MATHS, \n           x= GENDER)) +\n  geom_boxplot() +                    \n  geom_point(position=\"jitter\", \n             size = 0.5)"
  },
  {
    "objectID": "exercises/HE01.html#working-with-stat",
    "href": "exercises/HE01.html#working-with-stat",
    "title": "Hands-on Exercise 1",
    "section": "8.1 Working with stat()",
    "text": "8.1 Working with stat()\nThe boxplots below are incomplete because the positions of the means were not shown.\n\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot()"
  },
  {
    "objectID": "exercises/HE01.html#working-with-stat---the-stat_summary-method",
    "href": "exercises/HE01.html#working-with-stat---the-stat_summary-method",
    "title": "Hands-on Exercise 1",
    "section": "8.2 Working with stat - the stat_summary() method",
    "text": "8.2 Working with stat - the stat_summary() method\nThe code chunk below adds mean values by using the stat_summary() function and overriding the default geom.\n\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  stat_summary(geom = \"point\",       \n               fun = \"mean\",         \n               colour =\"red\",        \n               size=4)"
  },
  {
    "objectID": "exercises/HE01.html#working-with-stat---the-geom-method",
    "href": "exercises/HE01.html#working-with-stat---the-geom-method",
    "title": "Hands-on Exercise 1",
    "section": "8.3 Working with stat - the geom() method",
    "text": "8.3 Working with stat - the geom() method\nThe code chunk below adds mean values by using geom_() function and overriding the default stat.\n\nggplot(data=exam_data, \n       aes(y = MATHS, x= GENDER)) +\n  geom_boxplot() +\n  geom_point(stat=\"summary\",        \n             fun=\"mean\",           \n             colour=\"red\",          \n             size=4)"
  },
  {
    "objectID": "exercises/HE01.html#adding-a-best-fit-curve-on-a-scatterplot",
    "href": "exercises/HE01.html#adding-a-best-fit-curve-on-a-scatterplot",
    "title": "Hands-on Exercise 1",
    "section": "8.4 Adding a best fit curve on a scatterplot?",
    "text": "8.4 Adding a best fit curve on a scatterplot?\nThe scatterplot below shows the relationship of Maths and English grades of pupils.\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() \n\n\n\n\n\n\n\n\nThe interpretability of this graph can be improved by adding a best fit curve. geom_smooth() is used to plot a best fit curve on the scatterplot.\n\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(size=0.5)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\n\nThe default method used is loess.\n\n\n\nThe default smoothing method can be overridden as shown below.\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              linewidth=0.5)"
  },
  {
    "objectID": "exercises/HE01.html#working-with-facet_wrap",
    "href": "exercises/HE01.html#working-with-facet_wrap",
    "title": "Hands-on Exercise 1",
    "section": "9.1 Working with facet_wrap()",
    "text": "9.1 Working with facet_wrap()\nIt wraps a 1d sequence of panels into 2d. This is generally a better use of screen space than facet_grid because most displays are roughly rectangular.\nThe code chunk below plots a trellis plot using facet_wrap():\n\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n    facet_wrap(~ CLASS)"
  },
  {
    "objectID": "exercises/HE01.html#facet_grid-function",
    "href": "exercises/HE01.html#facet_grid-function",
    "title": "Hands-on Exercise 1",
    "section": "9.2 facet_grid() function",
    "text": "9.2 facet_grid() function\nIt forms a matrix of panels defined by row and column facetting variables. It is most useful when you have two discrete variables, and all combinations of the variables exist in the data.\n\nggplot(data=exam_data, \n       aes(x= MATHS)) +\n  geom_histogram(bins=20) +\n    facet_grid(~ CLASS)"
  },
  {
    "objectID": "exercises/HE01.html#working-with-coordinate",
    "href": "exercises/HE01.html#working-with-coordinate",
    "title": "Hands-on Exercise 1",
    "section": "10.1 Working with Coordinate",
    "text": "10.1 Working with Coordinate\nBy default, the bar chart of ggplot2 is in vertical form.\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar()\n\n\n\n\n\n\n\n\nThe code chunk below flips the horizontal bar chart into vertical bar chart by using coord_flip().\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip()"
  },
  {
    "objectID": "exercises/HE01.html#changing-the-y--and-x-axis-range",
    "href": "exercises/HE01.html#changing-the-y--and-x-axis-range",
    "title": "Hands-on Exercise 1",
    "section": "10.2 Changing the y- and x-axis range",
    "text": "10.2 Changing the y- and x-axis range\nThe scatterplot below is slightly misleading because the y-aixs and x-axis range are not equal.\n\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, size=0.5)\n\n\n\n\n\n\n\n\nThe code chunk below fixes the y-axis and x-axis range from 0 to 100.\n\nggplot(data=exam_data, \n       aes(x= MATHS, y=ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))"
  },
  {
    "objectID": "exercises/HE01.html#working-with-theme",
    "href": "exercises/HE01.html#working-with-theme",
    "title": "Hands-on Exercise 1",
    "section": "11.1 Working with theme",
    "text": "11.1 Working with theme\nThe code chunk below plots a horizontal bar chart using theme_gray().\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_gray()\n\n\n\n\n\n\n\n\nA horizontal bar chart plotted using theme_classic():\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_classic()\n\n\n\n\n\n\n\n\nA horizontal bar chart plotted using theme_minimal():\n\nggplot(data=exam_data, \n       aes(x=RACE)) +\n  geom_bar() +\n  coord_flip() +\n  theme_minimal()"
  },
  {
    "objectID": "exercises/HE03b.html",
    "href": "exercises/HE03b.html",
    "title": "Hands-on Exercise 3b",
    "section": "",
    "text": "When telling a visually-driven data story, animated graphics tend to attract the interest of the audience and make deeper impression than static graphics. In this hands-on exercise, we will learn how to create animated data visualisation by using gganimate and plotly r packages. At the same time, we will also learn how to\n\nreshape data by using tidyr package, and\nprocess, wrangle and transform data by using dplyr package.\n\n\nBasic concepts of animationTerminology\n\n\nWhen creating animations, the plot does not actually move. Instead, many individual plots are built and then stitched together as movie frames, just like an old-school flip book or cartoon. Each frame is a different plot when conveying motion, which is built using some relevant subset of the aggregate data. The subset drives the flow of the animation when stitched back together.\n\n\n\nBefore we dive into the steps for creating an animated statistical graph, it’s important to understand some of the key concepts and terminology related to this type of visualization.\n\nFrame: In an animated line graph, each frame represents a different point in time or a different category. When the frame changes, the data points on the graph are updated to reflect the new data.\nAnimation Attributes: The animation attributes are the settings that control how the animation behaves. For example, you can specify the duration of each frame, the easing function used to transition between frames, and whether to start the animation from the current frame or from the beginning.\n\n\n\n\n\n\n\nTip\n\n\n\nBefore you start making animated graphs, you should first ask yourself: Does it makes sense to go through the effort? If you are conducting an exploratory data analysis, a animated graphic may not be worth the time investment. However, if you are giving a presentation, a few well-placed animated graphics can help an audience connect with your topic remarkably better than static counterparts."
  },
  {
    "objectID": "exercises/HE03b.html#building-a-static-population-bubble-plot",
    "href": "exercises/HE03b.html#building-a-static-population-bubble-plot",
    "title": "Hands-on Exercise 3b",
    "section": "3.1 Building a static population bubble plot",
    "text": "3.1 Building a static population bubble plot\nIn the code chunk below, the basic ggplot2 functions are used to create a static bubble plot.\n\nggplot(globalPop, aes(x = Old, y = Young, \n                      size = Population, \n                      colour = Country)) +\n  geom_point(alpha = 0.7, \n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(title = 'Year: {frame_time}', \n       x = '% Aged', \n       y = '% Young')"
  },
  {
    "objectID": "exercises/HE03b.html#building-the-animated-bubble-plot",
    "href": "exercises/HE03b.html#building-the-animated-bubble-plot",
    "title": "Hands-on Exercise 3b",
    "section": "3.2 Building the animated bubble plot",
    "text": "3.2 Building the animated bubble plot\nIn the code chunk below,\n\ntransition_time() of gganimate is used to create transition through distinct states in time (i.e. Year).\nease_aes() is used to control easing of aesthetics. The default is linear. Other methods are: quadratic, cubic, quartic, quintic, sine, circular, exponential, elastic, back, and bounce.\n\n\nggplot(globalPop, aes(x = Old, y = Young, \n                      size = Population, \n                      colour = Country)) +\n  geom_point(alpha = 0.7, \n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(title = 'Year: {frame_time}', \n       x = '% Aged', \n       y = '% Young') +\n  transition_time(Year) +       \n  ease_aes('linear')"
  },
  {
    "objectID": "exercises/HE03b.html#building-an-animated-bubble-plot-ggplotly-method",
    "href": "exercises/HE03b.html#building-an-animated-bubble-plot-ggplotly-method",
    "title": "Hands-on Exercise 3b",
    "section": "4.1 Building an animated bubble plot: ggplotly() method",
    "text": "4.1 Building an animated bubble plot: ggplotly() method\nIn this sub-section, you will learn how to create an animated bubble plot by using ggplotly() method.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\nThe animated bubble plot above includes a play/pause button and a slider component for controlling the animation\n\n\n\ngg &lt;- ggplot(globalPop, \n       aes(x = Old, \n           y = Young, \n           size = Population, \n           colour = Country)) +\n  geom_point(aes(size = Population,\n                 frame = Year),\n             alpha = 0.7, \n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(x = '% Aged', \n       y = '% Young')\n\nggplotly(gg)\n\n\n\n\n\n\n\nTipThings to learn from the code chunk above\n\n\n\n\nAppropriate ggplot2 functions are used to create a static bubble plot. The output is then saved as an R object called gg.\nggplotly() is then used to convert the R graphic object into an animated svg object.\n\n\n\n\n\n\nNotice that although show.legend = FALSE argument was used, the legend still appears on the plot. To overcome this problem, theme(legend.position=‘none’) should be used as shown in the plot and code chunk below.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\ngg &lt;- ggplot(globalPop, \n       aes(x = Old, \n           y = Young, \n           size = Population, \n           colour = Country)) +\n  geom_point(aes(size = Population,\n                 frame = Year),\n             alpha = 0.7) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(x = '% Aged', \n       y = '% Young') + \n  theme(legend.position='none')\n\nggplotly(gg)"
  },
  {
    "objectID": "exercises/HE03b.html#building-an-animated-bubble-plot-plot_ly-method",
    "href": "exercises/HE03b.html#building-an-animated-bubble-plot-plot_ly-method",
    "title": "Hands-on Exercise 3b",
    "section": "4.2 Building an animated bubble plot: plot_ly() method",
    "text": "4.2 Building an animated bubble plot: plot_ly() method\nIn this sub-section, you will learn how to create an animated bubble plot by using plot_ly() method.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\nbp &lt;- globalPop %&gt;%\n  plot_ly(x = ~Old, \n          y = ~Young, \n          size = ~Population, \n          color = ~Continent,\n          sizes = c(2, 100),\n          frame = ~Year, \n          text = ~Country, \n          hoverinfo = \"text\",\n          type = 'scatter',\n          mode = 'markers'\n          ) %&gt;%\n  layout(showlegend = FALSE)\nbp"
  },
  {
    "objectID": "exercises/HE02.html",
    "href": "exercises/HE02.html",
    "title": "Hands-on Exercise 2",
    "section": "",
    "text": "In this exercise, we will be introduced to several ggplot2 extensions for creating more elegant and effective statistical graphics. The goals of this exercise is to:\n\nControl the placement of annotation on a graph by using functions provided in ggrepel package,\ncreate professional publication quality figure by using functions provided in ggthemes and hrbrthemes packages, and\nplot composite figure by combining ggplot2 graphs by using patchwork package."
  },
  {
    "objectID": "exercises/HE02.html#working-with-ggrepel",
    "href": "exercises/HE02.html#working-with-ggrepel",
    "title": "Hands-on Exercise 2",
    "section": "Working with ggrepel",
    "text": "Working with ggrepel\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_data, \n       aes(x= MATHS, \n           y=ENGLISH)) + \n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  geom_label_repel(aes(label = ID), \n                   fontface = \"bold\") +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")"
  },
  {
    "objectID": "exercises/HE02.html#working-with-ggtheme-package",
    "href": "exercises/HE02.html#working-with-ggtheme-package",
    "title": "Hands-on Exercise 2",
    "section": "4.1 Working with ggtheme package",
    "text": "4.1 Working with ggtheme package\nggthemes provides ‘ggplot2’ themes that replicate the look of plots by Edward Tufte, Stephen Few, Fivethirtyeight, The Economist, ‘Stata’, ‘Excel’, and The Wall Street Journal, among others.\nBelow, we’re looking at an example where The Economist theme is used.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_economist()\n\n\n\n\nIt also provides some extra geoms and scales for ggplot2. Consult this vignette to learn more."
  },
  {
    "objectID": "exercises/HE02.html#working-with-hrbrthemes-package",
    "href": "exercises/HE02.html#working-with-hrbrthemes-package",
    "title": "Hands-on Exercise 2",
    "section": "4.2 Working with hrbrthemes package",
    "text": "4.2 Working with hrbrthemes package\nhrbrthemes package provides a base theme that focuses on typographic elements, including where various labels are placed as well as the fonts that are used.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Math scores\") +\n  theme_ipsum()\n\n\n\n\nThe second goal centers around productivity for a production workflow. In fact, this “production workflow” is the context for where the elements of hrbrthemes should be used. Consult this vignette to learn more.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Math scores\") +\n  theme_ipsum(axis_title_size = 18,\n              base_size = 15,\n              grid = \"Y\")\n\n\n\n\n\n\n\n\n\n\nTipWhat can we learn from the code chunk above?\n\n\n\n\naxis_title_size argument is used to increase the font size of the axis title to 18,\nbase_size argument is used to increase the default axis label to 15, and\ngrid argument is used to remove the x-axis grid lines."
  },
  {
    "objectID": "exercises/HE02.html#creating-composite-graphics-patchwork-methods",
    "href": "exercises/HE02.html#creating-composite-graphics-patchwork-methods",
    "title": "Hands-on Exercise 2",
    "section": "5.1 Creating composite graphics: patchwork methods",
    "text": "5.1 Creating composite graphics: patchwork methods\nThere are several ggplot2 extension’s functions support the needs to prepare composite figure by combining several graphs such as grid.arrange() of gridExtra package and plot_grid() of cowplot package. In this section, I am going to shared with you an ggplot2 extension called patchwork which is specially designed for combining separate ggplot2 graphs into a single figure.\nPatchwork package has a very simple syntax where we can create layouts super easily. Here’s the general syntax that combines:\n\nTwo-Column Layout using the Plus Sign +.\nParenthesis () to create a subplot group.\nTwo-Row Layout using the Division Sign /."
  },
  {
    "objectID": "exercises/HE02.html#combining-two-ggplot2-graphs",
    "href": "exercises/HE02.html#combining-two-ggplot2-graphs",
    "title": "Hands-on Exercise 2",
    "section": "5.2 Combining two ggplot2 graphs",
    "text": "5.2 Combining two ggplot2 graphs\nFigure in the tabset below shows a composite of two histograms created using patchwork. Note how simple the syntax used to create the plot is!\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\np1 + p2"
  },
  {
    "objectID": "exercises/HE02.html#combining-three-ggplot2-graphs",
    "href": "exercises/HE02.html#combining-three-ggplot2-graphs",
    "title": "Hands-on Exercise 2",
    "section": "5.3 Combining three ggplot2 graphs",
    "text": "5.3 Combining three ggplot2 graphs\nWe can plot more complex composite figures by using appropriate operators. For example, the composite figure below is plotted using the following:\n\n“/” operator to stack two ggplot2 graphs,\n“|” operator to place the plots beside each other,\n“()” operator the define the sequence of the plotting.\n\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(p1 / p2) | p3\n\n\n\n\nTo learn more about, refer to Plot Assembly."
  },
  {
    "objectID": "exercises/HE02.html#creating-a-composite-figure-with-tag",
    "href": "exercises/HE02.html#creating-a-composite-figure-with-tag",
    "title": "Hands-on Exercise 2",
    "section": "5.4 Creating a composite figure with tag",
    "text": "5.4 Creating a composite figure with tag\nIn order to identify subplots in text, patchwork also provides auto-tagging capabilities as shown below.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n((p1 / p2) | p3) + \n  plot_annotation(tag_levels = 'I')"
  },
  {
    "objectID": "exercises/HE02.html#creating-figures-with-inset",
    "href": "exercises/HE02.html#creating-figures-with-inset",
    "title": "Hands-on Exercise 2",
    "section": "5.5 Creating figures with inset",
    "text": "5.5 Creating figures with inset\nBesides providing functions to place plots next to each other based on the provided layout, with inset_element() of patchwork we can place one or more plots or graphic elements freely on top of or below another plot.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\np3 + inset_element(p2, \n                   left = 0.02, \n                   bottom = 0.7, \n                   right = 0.5, \n                   top = 1)"
  },
  {
    "objectID": "exercises/HE02.html#creating-a-composite-figure-by-using-patchwork-and-ggtheme",
    "href": "exercises/HE02.html#creating-a-composite-figure-by-using-patchwork-and-ggtheme",
    "title": "Hands-on Exercise 2",
    "section": "5.6 Creating a composite figure by using patchwork and ggtheme",
    "text": "5.6 Creating a composite figure by using patchwork and ggtheme\nBelow we are creating a figure by combining patchwork and The Economist theme of ggthemes package discussed earlier.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npatchwork &lt;- (p1 / p2) | p3\npatchwork & theme_economist()"
  },
  {
    "objectID": "exercises/HE03.html",
    "href": "exercises/HE03.html",
    "title": "Hands-on Exercise 3a",
    "section": "",
    "text": "In this hands-on exercise, we will learn how to create interactive data visualisation by using functions provided by ggiraph and plotlyr packages."
  },
  {
    "objectID": "exercises/HE03.html#tooltip-effect-with-tooltip-aesthetic",
    "href": "exercises/HE03.html#tooltip-effect-with-tooltip-aesthetic",
    "title": "Hands-on Exercise 3a",
    "section": "3.1 Tooltip effect with tooltip aesthetic",
    "text": "3.1 Tooltip effect with tooltip aesthetic\nBelow we look at a typical code chunk to plot an interactive statistical graph by using the ggiraph package. Notice that the code chunk consists of two parts. First, a ggplot object will be created. Next, girafe() of ggiraph will be used to create an interactive svg object.\n\np &lt;- ggplot(data=exam_data, \n            aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = ID),\n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\") +\n  scale_y_continuous(NULL,\n                     breaks = NULL)\ngirafe(\n  ggobj = p,\n  width_svg = 6,\n  height_svg = 6*0.618\n)\n\nAs mentioned above as well, there are two steps involved. First, an interactive version of ggplot2 geom ( geom_dotplot_interactive()) was used to create the basic graph. Then,  girafe() was be used to generate an svg object to be displayed on an html page.\nIn the plot below, we can see that by hovering the mouse pointer on a data point of interest, the student’s ID will be displayed."
  },
  {
    "objectID": "exercises/HE03.html#displaying-multiple-information-on-tooltip",
    "href": "exercises/HE03.html#displaying-multiple-information-on-tooltip",
    "title": "Hands-on Exercise 3a",
    "section": "3.2 Displaying multiple information on tooltip",
    "text": "3.2 Displaying multiple information on tooltip\nThe content of the tooltip can be customised by including a list object as shown in the code chunk below.\n\nexam_data$tooltip &lt;- c(paste0(     \n  \"Name = \", exam_data$ID,         \n  \"\\n Class = \", exam_data$CLASS)) \n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = exam_data$tooltip), \n    stackgroups = TRUE,\n    binwidth = 1,\n    method = \"histodot\") +\n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(\n  ggobj = p,\n  width_svg = 8,\n  height_svg = 8*0.618\n)\n\nThe first three lines of codes in the code above create a new field called tooltip. At the same time, it populates text in ID and CLASS fields into the newly created field. Next, this newly created field is used as tooltip field as shown in the code on line 7.\nBy hovering the mouse pointer on an data point of interest, the student’s ID and Class will be displayed."
  },
  {
    "objectID": "exercises/HE03.html#customising-tooltip-style",
    "href": "exercises/HE03.html#customising-tooltip-style",
    "title": "Hands-on Exercise 3a",
    "section": "3.3 Customising tooltip style",
    "text": "3.3 Customising tooltip style\nCode chunks below use opts_tooltip() of ggiraph to customize tooltip rendering by add css declarations.\n\nBlack and bold fontPink rectangle and round borders\n\n\n\n\nShow the code\ntooltip_css &lt;- \"background-color:white; #&lt;&lt;\nfont-style:bold; color:black;\" #&lt;&lt;\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(tooltip = ID),                   \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(    #&lt;&lt;\n    opts_tooltip(    #&lt;&lt;\n      css = tooltip_css)) #&lt;&lt;\n)                                        \n\n\n\n\n\n\nNotice that the background colour of the tooltip is black and the font colour is white and bold.\n\n\n\n\nShow the code\ntooltip_css &lt;- \"background-color:#d8118c; color:white;\npadding:5px; border-radius:3px;\" #&lt;&lt;\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(tooltip = ID),                   \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(    #&lt;&lt;\n    opts_tooltip(    #&lt;&lt;\n      css = tooltip_css)) #&lt;&lt;\n)                                \n\n\n\n\n\n\nNotice that the font colour is white and the background colour is pink with round borders.\n\n\n\nRefer to Customizing girafe objects to learn more about how to customise ggiraph objects."
  },
  {
    "objectID": "exercises/HE03.html#displaying-statistics-on-tooltip",
    "href": "exercises/HE03.html#displaying-statistics-on-tooltip",
    "title": "Hands-on Exercise 3a",
    "section": "3.4 Displaying statistics on tooltip",
    "text": "3.4 Displaying statistics on tooltip\nThe code chunk below shows an advanced way to customise the tooltip. In this example, a function is used to compute 90% confident interval of the mean. The derived statistics are then displayed in the tooltip.\n\ntooltip &lt;- function(y, ymax, accuracy = .01) {\n  mean &lt;- scales::number(y, accuracy = accuracy)\n  sem &lt;- scales::number(ymax - y, accuracy = accuracy)\n  paste(\"Mean maths scores:\", mean, \"+/-\", sem)\n}\n\ngg_point &lt;- ggplot(data=exam_data, \n                   aes(x = RACE),\n) +\n  stat_summary(aes(y = MATHS, \n                   tooltip = after_stat(  \n                     tooltip(y, ymax))),  \n    fun.data = \"mean_se\", \n    geom = GeomInteractiveCol,  \n    fill = \"light blue\"\n  ) +\n  stat_summary(aes(y = MATHS),\n    fun.data = mean_se,\n    geom = \"errorbar\", width = 0.2, size = 0.2\n  )\n\ngirafe(ggobj = gg_point,\n       width_svg = 8,\n       height_svg = 8*0.618)"
  },
  {
    "objectID": "exercises/HE03.html#hover-effect-with-data_id-aesthetic",
    "href": "exercises/HE03.html#hover-effect-with-data_id-aesthetic",
    "title": "Hands-on Exercise 3a",
    "section": "3.5 Hover effect with data_id aesthetic",
    "text": "3.5 Hover effect with data_id aesthetic\nThe code chunk below shows the second interactive feature of ggiraph, namely data_id.\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(           \n    aes(data_id = CLASS),             \n    stackgroups = TRUE,               \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618                      \n)\n\nInteractivity: Elements associated with a data_id (i.e CLASS in this case) will be highlighted upon mouse hover.\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThe default value of the hover css is hover_css = “fill:orange;”."
  },
  {
    "objectID": "exercises/HE03.html#styling-hover-effect",
    "href": "exercises/HE03.html#styling-hover-effect",
    "title": "Hands-on Exercise 3a",
    "section": "3.6 Styling hover effect",
    "text": "3.6 Styling hover effect\nIn the code chunk below, css codes are used to change the highlighting effect.\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(data_id = CLASS),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        \n    opts_hover(css = \"fill: #202020;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)                                        \n\nInteractivity: Elements associated with a data_id (i.e CLASS in this case) will be highlighted upon mouse hover.\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nUnlike the previous example, in this example the ccs customisation request is encoded directly."
  },
  {
    "objectID": "exercises/HE03.html#combining-tooltip-and-hover-effect",
    "href": "exercises/HE03.html#combining-tooltip-and-hover-effect",
    "title": "Hands-on Exercise 3a",
    "section": "3.7 Combining tooltip and hover effect",
    "text": "3.7 Combining tooltip and hover effect\nThere are times when we want to combine the tooltip and hover effects on the interactive statistical graph. We can do that using the code chunk below.\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(tooltip = CLASS, \n        data_id = CLASS),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        \n    opts_hover(css = \"fill: #202020;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)     \n\nInteractivity: Elements associated with a data_id (i.e CLASS) will be highlighted upon mouse hover. At the same time, the tooltip will show the CLASS."
  },
  {
    "objectID": "exercises/HE03.html#click-effect-with-onclick",
    "href": "exercises/HE03.html#click-effect-with-onclick",
    "title": "Hands-on Exercise 3a",
    "section": "3.8 Click effect with onclick",
    "text": "3.8 Click effect with onclick\nonclick argument of ggiraph provides hotlink interactivity on the web.\nThe code chunk below shows an example of onclick.\n\nexam_data$onclick &lt;- sprintf(\"window.open(\\\"%s%s\\\")\",\n\"https://www.moe.gov.sg/schoolfinder?journey=Primary%20school\",\nas.character(exam_data$ID))\n\np &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(onclick = onclick),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +               \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\ngirafe(                                  \n  ggobj = p,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618)         \n\nInteractivity: Web document link with a data object will be displayed on the web browser upon mouse click.\n\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nNote that click actions must be a string column in the dataset containing valid javascript instructions."
  },
  {
    "objectID": "exercises/HE03.html#coordinated-multiple-views-with-ggiraph",
    "href": "exercises/HE03.html#coordinated-multiple-views-with-ggiraph",
    "title": "Hands-on Exercise 3a",
    "section": "3.9 Coordinated multiple views with ggiraph",
    "text": "3.9 Coordinated multiple views with ggiraph\nWe can see the coordinated multiple views method in the data visualisation below.\n\n\n\n\n\n\nNotice that when a data point of one of the dotplots is selected, the corresponding data point ID on the second data visualisation is highlighted as well.\nIn order to build a coordinated multiple views as shown in the example above, the following programming strategy will be used:\n\nAppropriate interactive functions of ggiraph will be used to create the multiple views.\npatchwork function of patchwork package will be used inside girafe function to create the interactive coordinated multiple views.\n\n\np1 &lt;- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(              \n    aes(data_id = ID),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") +  \n  coord_cartesian(xlim=c(0,100)) + \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\n\np2 &lt;- ggplot(data=exam_data, \n       aes(x = ENGLISH)) +\n  geom_dotplot_interactive(              \n    aes(data_id = ID),              \n    stackgroups = TRUE,                  \n    binwidth = 1,                        \n    method = \"histodot\") + \n  coord_cartesian(xlim=c(0,100)) + \n  scale_y_continuous(NULL,               \n                     breaks = NULL)\n\ngirafe(code = print(p1 + p2), \n       width_svg = 6,\n       height_svg = 3,\n       options = list(\n         opts_hover(css = \"fill: #202020;\"),\n         opts_hover_inv(css = \"opacity:0.2;\")\n         )\n       ) \n\n\n\n\n\n\n\nNote\n\n\n\nThe data_id aesthetic is critical to link observations between plots while the tooltip aesthetic is optional but nice to have when the mouse hovers over a point."
  },
  {
    "objectID": "exercises/HE03.html#creating-an-interactive-scatter-plot-plot_ly-method",
    "href": "exercises/HE03.html#creating-an-interactive-scatter-plot-plot_ly-method",
    "title": "Hands-on Exercise 3a",
    "section": "4.1 Creating an interactive scatter plot: plot_ly() method",
    "text": "4.1 Creating an interactive scatter plot: plot_ly() method\nThe tabset below shows an example of a basic interactive plot created by using plot_ly()\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\nplot_ly(data = exam_data, \n             x = ~MATHS, \n             y = ~ENGLISH)"
  },
  {
    "objectID": "exercises/HE03.html#working-with-visual-variable-plot_ly-method",
    "href": "exercises/HE03.html#working-with-visual-variable-plot_ly-method",
    "title": "Hands-on Exercise 3a",
    "section": "4.2 Working with visual variable: plot_ly() method",
    "text": "4.2 Working with visual variable: plot_ly() method\nIn the code chunk below, the color argument is mapped to a qualitative visual variable (i.e. RACE).\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\nInteractive: Click on the colour symbol at the legend.\n\n\n\nplot_ly(data = exam_data, \n        x = ~ENGLISH, \n        y = ~MATHS, \n        color = ~RACE)"
  },
  {
    "objectID": "exercises/HE03.html#creating-an-interactive-scatter-plot-ggplotly-method",
    "href": "exercises/HE03.html#creating-an-interactive-scatter-plot-ggplotly-method",
    "title": "Hands-on Exercise 3a",
    "section": "4.3 Creating an interactive scatter plot: ggplotly() method",
    "text": "4.3 Creating an interactive scatter plot: ggplotly() method\nThe code chunk below plots an interactive scatter plot by using ggplotly().\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\np &lt;- ggplot(data=exam_data, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\nggplotly(p)\n\nNotice that the only extra line you need to include in the code chunk is ggplotly()."
  },
  {
    "objectID": "exercises/HE03.html#coordinated-multiple-views-with-plotly",
    "href": "exercises/HE03.html#coordinated-multiple-views-with-plotly",
    "title": "Hands-on Exercise 3a",
    "section": "4.4 Coordinated Multiple Views with plotly",
    "text": "4.4 Coordinated Multiple Views with plotly\nThe creation of a coordinated linked plot by using plotly involves three steps:\n\nhighlight_key() of plotly package is used as shared data.\ntwo scatterplots will be created by using ggplot2 functions.\nlastly, subplot() of plotly package is used to place them next to each other side-by-side.\n\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\nClick on a data point of one of the scatterplots and see how the corresponding point on the other scatterplot is selected.\n\n\n\nd &lt;- highlight_key(exam_data)\np1 &lt;- ggplot(data=d, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\np2 &lt;- ggplot(data=d, \n            aes(x = MATHS,\n                y = SCIENCE)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\nsubplot(ggplotly(p1),\n        ggplotly(p2))\n\n\n\n\nThing to learn from the code chunk:\n\nhighlight_key() simply creates an object of class crosstalk::SharedData.\nVisit this link to learn more about crosstalk."
  },
  {
    "objectID": "exercises/HE03.html#interactive-data-table-dt-package",
    "href": "exercises/HE03.html#interactive-data-table-dt-package",
    "title": "Hands-on Exercise 3a",
    "section": "5.1 Interactive Data Table: DT Package",
    "text": "5.1 Interactive Data Table: DT Package\n\nA wrapper of the JavaScript Library DataTables\nData objects in R can be rendered as HTML tables using the JavaScript library ‘DataTables’ (typically via R Markdown or Shiny).\n\n\nDT::datatable(exam_data, class = \"compact\")"
  },
  {
    "objectID": "exercises/HE03.html#linked-brushing-crosstalk-method",
    "href": "exercises/HE03.html#linked-brushing-crosstalk-method",
    "title": "Hands-on Exercise 3a",
    "section": "5.2 Linked brushing: Crosstalk method",
    "text": "5.2 Linked brushing: Crosstalk method\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe code chunk below is used to implement the coordinated brushing shown in the plot.\n\nd &lt;- highlight_key(exam_data) \np &lt;- ggplot(d, \n            aes(ENGLISH, \n                MATHS)) + \n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\ngg &lt;- highlight(ggplotly(p),        \n                \"plotly_selected\")  \n\ncrosstalk::bscols(gg,               \n                  DT::datatable(d), \n                  widths = 5)        \n\nThings to learn from the code chunk:\n\nhighlight() is a function of plotly package. It sets a variety of options for brushing (i.e., highlighting) multiple plots. These options are primarily designed for linking multiple plotly graphs, and may not behave as expected when linking plotly to another htmlwidget package via crosstalk. In some cases, other htmlwidgets will respect these options, such as persistent selection in leaflet.\nbscols() is a helper function of crosstalk package. It makes it easy to put HTML elements side by side. It can be called directly from the console but is especially designed to work in an R Markdown document. Warning: This will bring in all of Bootstrap!."
  },
  {
    "objectID": "exercises/HE03.html#ggiraph",
    "href": "exercises/HE03.html#ggiraph",
    "title": "Hands-on Exercise 3a",
    "section": "6.1 ggiraph",
    "text": "6.1 ggiraph\nThis link provides online version of the reference guide and several useful articles. Use this link to download the pdf version of the reference guide.\n\nHow to Plot With Ggiraph\nInteractive map of France with ggiraph\nCustom interactive sunbursts with ggplot in R\nThis link provides code example on how ggiraph is used to interactive graphs for Swiss Olympians - the solo specialists."
  },
  {
    "objectID": "exercises/HE03.html#plotly-for-r",
    "href": "exercises/HE03.html#plotly-for-r",
    "title": "Hands-on Exercise 3a",
    "section": "6.2 plotly for R",
    "text": "6.2 plotly for R\n\nGetting Started with Plotly in R\nA collection of plotly R graphs are available via this link.\nCarson Sievert (2020) Interactive web-based data visualization with R, plotly, and shiny, Chapman and Hall/CRC is the best resource to learn plotly for R. The online version is available via this link\nPlotly R Figure Reference provides a comprehensive discussion of each visual representations.\nPlotly R Library Fundamentals is a good place to learn the fundamental features of Plotly’s R API.\nGetting Started\nVisit this link for a very interesting implementation of gganimate by your senior.\nBuilding an animation step-by-step with gganimate.\nCreating a composite gif with multiple gganimate panels"
  },
  {
    "objectID": "index.html#latest-creations",
    "href": "index.html#latest-creations",
    "title": "ISSS608-First",
    "section": "Latest Creations",
    "text": "Latest Creations\n\n\n\n\n\n\n\n\nHands-on Exercise 1 ggplot2 methods\nHands-on Exercise 2Beyond ggplot2 Fundamentals\nHands-on Exercise 3aInteractive Data Visualisation"
  },
  {
    "objectID": "index.html#latest-creations-1",
    "href": "index.html#latest-creations-1",
    "title": "ISSS608-First",
    "section": "Latest Creations",
    "text": "Latest Creations\n\n \n\nHands-on Exercise 1\n\n\nggplot2 methods\n\n\n \n\nHands-on Exercise 2\n\n\nBeyond ggplot2 Fundamentals\n\n\n \n\nHands-on Exercise 3a\n\n\nInteractive Data Visualisation"
  },
  {
    "objectID": "exercises/IE01.html",
    "href": "exercises/IE01.html",
    "title": "In-class Exercise 1",
    "section": "",
    "text": "exercise"
  },
  {
    "objectID": "exercises/HE04a.html",
    "href": "exercises/HE04a.html",
    "title": "Hands-on Exercise 4a",
    "section": "",
    "text": "Visualising distribution is not new in statistical analysis. In hands-on exercise 1 we had looked at some of the popular statistical graphics methods for visualising distribution are histogram, probability density curve (pdf), boxplot, notch plot and violin plot and how they can be created by using ggplot2. In this chapter, we are going to look at two relatively new statistical graphic methods for visualising distribution, namely ridgeline plot and raincloud plot by using ggplot2 and its extensions."
  },
  {
    "objectID": "exercises/HE04a.html#plotting-ridgeline-graph-ggridges-method",
    "href": "exercises/HE04a.html#plotting-ridgeline-graph-ggridges-method",
    "title": "Hands-on Exercise 4a",
    "section": "3.1 Plotting ridgeline graph: ggridges method",
    "text": "3.1 Plotting ridgeline graph: ggridges method\nThere are several ways to plot ridgeline plot with R. In this section, we will learn how to plot ridgeline plot by using ggridges package.\nggridges package provides two main geom to plot ridgeline plots, they are: geom_ridgeline() and geom_density_ridges(). The first one takes height values directly to draw the ridgelines, while the second one first estimates the data densities and then draws those using ridgelines.\nThe ridgeline plot below is plotted by using geom_density_ridges().\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = ENGLISH, \n           y = CLASS)) +\n  geom_density_ridges(\n    scale = 3,\n    rel_min_height = 0.01,\n    bandwidth = 3.4,\n    fill = lighten(\"#7097BB\", .3),\n    color = \"white\"\n  ) +\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0, 0)\n    ) +\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6))) +\n  theme_ridges()"
  },
  {
    "objectID": "exercises/HE04a.html#varying-fill-colors-along-the-x-axis",
    "href": "exercises/HE04a.html#varying-fill-colors-along-the-x-axis",
    "title": "Hands-on Exercise 4a",
    "section": "3.2 Varying fill colors along the x axis",
    "text": "3.2 Varying fill colors along the x axis\nSometimes we may want the area beneath a ridgeline to feature colors that change along the x-axis instead of a single solid shade. This effect can be achieved by using either geom_ridgeline_gradient() or geom_density_ridges_gradient(). Both geoms work just like geom_ridgeline() and geom_density_ridges(), except that they allow for varying fill colors. However, they do not allow for alpha transparency in the fill. Due to technical limitations, it is possible to use either changing fill colors or transparency, but not both simultaneously.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = ENGLISH, \n           y = CLASS,\n           fill = stat(x))) +\n  geom_density_ridges_gradient(\n    scale = 3,\n    rel_min_height = 0.01) +\n  scale_fill_viridis_c(name = \"Temp. [F]\",\n                       option = \"C\") +\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0, 0)\n  ) +\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6))) +\n  theme_ridges()"
  },
  {
    "objectID": "exercises/HE04a.html#mapping-the-probabilities-directly-onto-colour",
    "href": "exercises/HE04a.html#mapping-the-probabilities-directly-onto-colour",
    "title": "Hands-on Exercise 4a",
    "section": "3.3 Mapping the probabilities directly onto colour",
    "text": "3.3 Mapping the probabilities directly onto colour\nBeside providing additional geom objects to support the need to plot ridgeline plot, ggridges package also provides a stat function called stat_density_ridges() that replaces stat_density() of ggplot2.\nThe figure below is plotted by mapping the probabilities calculated by using stat(ecdf) which represents the empirical cumulative density function for the distribution of English score.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = 0.5 - abs(0.5-stat(ecdf)))) +\n  stat_density_ridges(geom = \"density_ridges_gradient\", \n                      calc_ecdf = TRUE) +\n  scale_fill_viridis_c(name = \"Tail probability\",\n                       direction = -1) +\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n\nImportant\n\n\n\nIt is important include the argument calc_ecdf = TRUE in stat_density_ridges()."
  },
  {
    "objectID": "exercises/HE04a.html#ridgeline-plots-with-quantile-lines",
    "href": "exercises/HE04a.html#ridgeline-plots-with-quantile-lines",
    "title": "Hands-on Exercise 4a",
    "section": "3.4 Ridgeline plots with quantile lines",
    "text": "3.4 Ridgeline plots with quantile lines\nBy using geom_density_ridges_gradient(), we can colour the ridgeline plot by quantile, via the calculated stat(quantile) aesthetic as shown in the figure below.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = 4,\n    quantile_lines = TRUE) +\n  scale_fill_viridis_d(name = \"Quartiles\") +\n  theme_ridges()\n\n\n\n\nInstead of using numbers to define the quantiles, we can also specify quantiles by cut points such as 2.5% and 97.5% tails to colour the ridgeline plot as shown in the figure below.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = c(0.025, 0.975)\n    ) +\n  scale_fill_manual(\n    name = \"Probability\",\n    values = c(\"#FF0000A0\", \"#A0A0A0A0\", \"#0000FFA0\"),\n    labels = c(\"(0, 0.025]\", \"(0.025, 0.975]\", \"(0.975, 1]\")\n  ) +\n  theme_ridges()"
  },
  {
    "objectID": "exercises/HE04a.html#plotting-a-half-eye-graph",
    "href": "exercises/HE04a.html#plotting-a-half-eye-graph",
    "title": "Hands-on Exercise 4a",
    "section": "4.1 Plotting a Half Eye graph",
    "text": "4.1 Plotting a Half Eye graph\nFirst, we will plot a Half-Eye graph by using stat_halfeye() of ggdist package.\nThis produces a Half Eye visualization, which contains a half-density and a slab-interval.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA)\n\n\n\n\n\n\n\nTipThings to learn from the code chunk above\n\n\n\nWe remove the slab interval by setting .width = 0 and point_colour = NA. Take note that it’s .width and not just width (because it is a special computed variable name used internally by ggdist stats like stat_halfeye). The dot helps distinguish it from regular aesthetic mappings such as width, color, or fill."
  },
  {
    "objectID": "exercises/HE04a.html#adding-the-boxplot-with-geom_boxplot",
    "href": "exercises/HE04a.html#adding-the-boxplot-with-geom_boxplot",
    "title": "Hands-on Exercise 4a",
    "section": "4.2 Adding the boxplot with geom_boxplot()",
    "text": "4.2 Adding the boxplot with geom_boxplot()\nNext, we will add the second geometry layer using geom_boxplot() of ggplot2. This produces a narrow boxplot. We reduce the width and adjust the opacity.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA)"
  },
  {
    "objectID": "exercises/HE04a.html#adding-the-dot-plots-with-stat_dots",
    "href": "exercises/HE04a.html#adding-the-dot-plots-with-stat_dots",
    "title": "Hands-on Exercise 4a",
    "section": "4.3 Adding the Dot Plots with stat_dots()",
    "text": "4.3 Adding the Dot Plots with stat_dots()\nNext, we will add the third geometry layer using stat_dots() of ggdist package. This produces a half-dotplot, which is similar to a histogram that indicates the number of samples (number of dots) in each bin. We select side = “left” to indicate that we want it on the left-hand side.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 2)"
  },
  {
    "objectID": "exercises/HE04a.html#finishing-touch",
    "href": "exercises/HE04a.html#finishing-touch",
    "title": "Hands-on Exercise 4a",
    "section": "4.4 Finishing Touch",
    "text": "4.4 Finishing Touch\nLastly, coord_flip() of ggplot2 package will be used to flip the raincloud chart horizontally to give it the raincloud appearance. At the same time, theme_economist() of ggthemes package is used to give the raincloud chart a professional publishing standard look.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(exam, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 1.5) +\n  coord_flip() +\n  theme_economist()"
  },
  {
    "objectID": "exercises/HE04b.html",
    "href": "exercises/HE04b.html",
    "title": "Hands-on Exercise 4b",
    "section": "",
    "text": "In this hands-on exercise, we will understand how to use:\n\nggstatsplot package to create visual graphics with rich statistical information,\nperformance package to visualise model diagnostics, and\nparameters package to visualise model parameters"
  },
  {
    "objectID": "exercises/HE04b.html#one-sample-test-gghistostats-method",
    "href": "exercises/HE04b.html#one-sample-test-gghistostats-method",
    "title": "Hands-on Exercise 4b",
    "section": "3.1 One-sample test: gghistostats() method",
    "text": "3.1 One-sample test: gghistostats() method\nIn the code chunk below, gghistostats() is used to to build a visual of one-sample test on English scores.\n\nset.seed(1234)\n\ngghistostats(\n  data = exam,\n  x = ENGLISH,\n  type = \"bayes\",\n  test.value = 60,\n  xlab = \"English scores\"\n)\n\n\n\n\n\n\n\n\nDefault information:\n\nstatistical details\nBayes Factor\nsample sizes\ndistribution summary"
  },
  {
    "objectID": "exercises/HE04b.html#unpacking-the-bayes-factor",
    "href": "exercises/HE04b.html#unpacking-the-bayes-factor",
    "title": "Hands-on Exercise 4b",
    "section": "3.2 Unpacking the Bayes Factor",
    "text": "3.2 Unpacking the Bayes Factor\n\nA Bayes factor is the ratio of the likelihood of one particular hypothesis to the likelihood of another. It can be interpreted as a measure of the strength of evidence in favor of one theory among two competing theories.\nThat’s because the Bayes factor gives us a way to evaluate the data in favor of a null hypothesis, and to use external information to do so. It tells us what the weight of the evidence is in favor of a given hypothesis.\nWhen we are comparing two hypotheses, H1 (the alternate hypothesis) and H0 (the null hypothesis), the Bayes Factor is often written as B10. It can be defined mathematically as\n\n\n\n\nThe Schwarz criterion is one of the easiest ways to calculate rough approximation of the Bayes Factor."
  },
  {
    "objectID": "exercises/HE04b.html#how-to-interpret-bayes-factor",
    "href": "exercises/HE04b.html#how-to-interpret-bayes-factor",
    "title": "Hands-on Exercise 4b",
    "section": "3.3 How to interpret Bayes Factor",
    "text": "3.3 How to interpret Bayes Factor\nA Bayes Factor can be any positive number. One of the most common interpretations is this one—first proposed by Harold Jeffereys (1961) and slightly modified by Lee and Wagenmakers in 2013:"
  },
  {
    "objectID": "exercises/HE04b.html#two-sample-mean-test-ggbetweenstats",
    "href": "exercises/HE04b.html#two-sample-mean-test-ggbetweenstats",
    "title": "Hands-on Exercise 4b",
    "section": "3.4 Two-sample mean test: ggbetweenstats()",
    "text": "3.4 Two-sample mean test: ggbetweenstats()\nIn the code chunk below, ggbetweenstats() is used to build a visual for two-sample mean test of Maths scores by gender.\n\nggbetweenstats(\n  data = exam,   \n  x = GENDER,    \n  y = MATHS,   \n  type = \"np\",   \n  messages = FALSE \n)"
  },
  {
    "objectID": "exercises/HE04b.html#oneway-anova-test-ggbetweenstats-method",
    "href": "exercises/HE04b.html#oneway-anova-test-ggbetweenstats-method",
    "title": "Hands-on Exercise 4b",
    "section": "3.5 Oneway ANOVA Test: ggbetweenstats() method",
    "text": "3.5 Oneway ANOVA Test: ggbetweenstats() method\nIn the code chunk below, ggbetweenstats() is used to build a visual for One-way ANOVA test on English score by race.\n\nggbetweenstats(\n  data = exam,\n  x = RACE, \n  y = ENGLISH,\n  type = \"p\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"s\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\n\n\n“ns” → only non-significant\n“s” → only significant\n“all” → everything\n\n\n3.5.1 ggbetweenstats - Summary of tests"
  },
  {
    "objectID": "exercises/HE04b.html#significant-test-of-correlation-ggscatterstats",
    "href": "exercises/HE04b.html#significant-test-of-correlation-ggscatterstats",
    "title": "Hands-on Exercise 4b",
    "section": "3.6 Significant Test of Correlation: ggscatterstats()",
    "text": "3.6 Significant Test of Correlation: ggscatterstats()\nIn the code chunk below, ggscatterstats() is used to build a visual for Significant Test of Correlation between Math scores and English scores.\n\nggscatterstats(\n  data = exam,\n  x = MATHS,\n  y = ENGLISH,\n  marginal = FALSE,\n  )"
  },
  {
    "objectID": "exercises/HE04b.html#significant-test-of-association-depedence-ggbarstats-methods",
    "href": "exercises/HE04b.html#significant-test-of-association-depedence-ggbarstats-methods",
    "title": "Hands-on Exercise 4b",
    "section": "3.7 Significant Test of Association (Depedence) : ggbarstats() methods",
    "text": "3.7 Significant Test of Association (Depedence) : ggbarstats() methods\nIn the code chunk below, the Math scores are binned into a 4-class variable by using cut().\n\nexam1 &lt;- exam %&gt;% \n  mutate(MATHS_bins = \n           cut(MATHS, \n               breaks = c(0,60,75,85,100))\n)\n\nIn the code chunk below ggbarstats() is used to build a visual for Significant Test of Association\n\nggbarstats(exam1, \n           x = MATHS_bins, \n           y = GENDER)"
  },
  {
    "objectID": "exercises/HE04c.html",
    "href": "exercises/HE04c.html",
    "title": "Hands-on Exercise 4c",
    "section": "",
    "text": "Visualising uncertainty is relatively new in statistical graphics. In this chapter, we will gain hands-on experience on creating statistical graphics for visualising uncertainty. By the end of this chapter we will be able to:\n\nplot statistics error bars by using ggplot2,\nplot interactive error bars by combining ggplot2, plotly and DT,\ncreate advanced by using ggdist, and\ncreate hypothetical outcome plots (HOPs) by using ungeviz package."
  },
  {
    "objectID": "exercises/HE04c.html#plotting-standard-error-bars-of-point-estimates",
    "href": "exercises/HE04c.html#plotting-standard-error-bars-of-point-estimates",
    "title": "Hands-on Exercise 4c",
    "section": "3.1 Plotting standard error bars of point estimates",
    "text": "3.1 Plotting standard error bars of point estimates\nNow we are ready to plot the standard error bars of mean math score by race as shown below.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=RACE, \n        ymin=mean-se, \n        ymax=mean+se), \n    width=0.2, \n    colour=\"black\", \n    alpha=0.9, \n    linewidth=0.5) +\n  geom_point(aes\n           (x=RACE, \n            y=mean), \n           stat=\"identity\", \n           color=\"red\",\n           size = 1.5,\n           alpha=1) +\n  ggtitle(\"Standard error of mean maths score by race\")\n\n\n\n\n\n\n\nTipThings to learn from the code chunk above\n\n\n\n\nThe error bars are computed by using the formula mean +/- se.\nFor geom_point(), it is important to indicate stat=“identity”."
  },
  {
    "objectID": "exercises/HE04c.html#plotting-confidence-interval-of-point-estimates",
    "href": "exercises/HE04c.html#plotting-confidence-interval-of-point-estimates",
    "title": "Hands-on Exercise 4c",
    "section": "3.2 Plotting confidence interval of point estimates",
    "text": "3.2 Plotting confidence interval of point estimates\nInstead of plotting the standard error bar of point estimates, we can also plot the confidence intervals of mean math score by race.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=reorder(RACE, -mean), \n        ymin=mean-1.96*se, \n        ymax=mean+1.96*se), \n    width=0.2, \n    colour=\"black\", \n    alpha=0.9, \n    linewidth=0.5) +\n  geom_point(aes\n           (x=RACE, \n            y=mean), \n           stat=\"identity\", \n           color=\"red\",\n           size = 1.5,\n           alpha=1) +\n  labs(x = \"Maths score\",\n       title = \"95% confidence interval of mean maths score by race\")\n\n\n\n\n\n\n\nTipThings to learn from the code chunk above\n\n\n\n\nThe confidence intervals are computed by using the formula mean+/-1.96*se.\nThe error bars are sorted by using the average math scores.\nlabs() argument of ggplot2 is used to change the x-axis label."
  },
  {
    "objectID": "exercises/HE04c.html#visualizing-the-uncertainty-of-point-estimates-with-interactive-error-bars",
    "href": "exercises/HE04c.html#visualizing-the-uncertainty-of-point-estimates-with-interactive-error-bars",
    "title": "Hands-on Exercise 4c",
    "section": "3.3 Visualizing the uncertainty of point estimates with interactive error bars",
    "text": "3.3 Visualizing the uncertainty of point estimates with interactive error bars\nIn this section, we will learn how to plot interactive error bars for the 99% confidence interval of mean math score by race as shown in the figure below.\n\nThe plotThe code chunk\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nshared_df = SharedData$new(my_sum)\n\nbscols(widths = c(4,8),\n       ggplotly((ggplot(shared_df) +\n                   geom_errorbar(aes(\n                     x=reorder(RACE, -mean),\n                     ymin=mean-2.58*se, \n                     ymax=mean+2.58*se), \n                     width=0.2, \n                     colour=\"black\", \n                     alpha=0.9, \n                     size=0.5) +\n                   geom_point(aes(\n                     x=RACE, \n                     y=mean, \n                     text = paste(\"Race:\", `RACE`, \n                                  \"&lt;br&gt;N:\", `n`,\n                                  \"&lt;br&gt;Avg. Scores:\", round(mean, digits = 2),\n                                  \"&lt;br&gt;95% CI:[\", \n                                  round((mean-2.58*se), digits = 2), \",\",\n                                  round((mean+2.58*se), digits = 2),\"]\")),\n                     stat=\"identity\", \n                     color=\"red\", \n                     size = 1.5, \n                     alpha=1) + \n                   xlab(\"Race\") + \n                   ylab(\"Average Scores\") + \n                   theme_minimal() + \n                   theme(axis.text.x = element_text(\n                     angle = 45, vjust = 0.5, hjust=1)) +\n                   ggtitle(\"99% Confidence interval of average /&lt;br&gt;maths scores by race\")), \n                tooltip = \"text\"), \n       DT::datatable(shared_df, \n                     rownames = FALSE, \n                     class=\"compact\", \n                     width=\"100%\", \n                     options = list(pageLength = 10,\n                                    scrollX=T), \n                     colnames = c(\"No. of pupils\", \n                                  \"Avg Scores\",\n                                  \"Std Dev\",\n                                  \"Std Error\")) %&gt;%\n         formatRound(columns=c('mean', 'sd', 'se'),\n                     digits=2))"
  },
  {
    "objectID": "exercises/HE04c.html#visualizing-the-uncertainty-of-point-estimates-ggdist-methods",
    "href": "exercises/HE04c.html#visualizing-the-uncertainty-of-point-estimates-ggdist-methods",
    "title": "Hands-on Exercise 4c",
    "section": "4.1 Visualizing the uncertainty of point estimates: ggdist methods",
    "text": "4.1 Visualizing the uncertainty of point estimates: ggdist methods\nIn the code chunk below, stat_pointinterval() of ggdist is used to build a visual for displaying distribution of math scores by race.\n\nexam %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_pointinterval() +\n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Mean Point + Multiple-interval plot\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis function comes with many arguments, make sure to read the syntax reference for more detail.\n\n\nFor example, in the code chunk below the following arguments are used:\n\n.width = 0.95\n.point = median\n.interval = qi\n\n\nexam %&gt;%\n  ggplot(aes(x = RACE, y = MATHS)) +\n  stat_pointinterval(.width = 0.95,\n  .point = median,\n  .interval = qi) +\n  labs(\n    title = \"Visualising confidence intervals of median math score\",\n    subtitle = \"Median Point + Multiple-interval plot\")"
  },
  {
    "objectID": "exercises/HE04c.html#visualizing-the-uncertainty-of-point-estimates-ggdist-methods-1",
    "href": "exercises/HE04c.html#visualizing-the-uncertainty-of-point-estimates-ggdist-methods-1",
    "title": "Hands-on Exercise 4c",
    "section": "4.2 Visualizing the uncertainty of point estimates: ggdist methods",
    "text": "4.2 Visualizing the uncertainty of point estimates: ggdist methods\n\nexam %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_pointinterval(\n    show.legend = FALSE) +   \n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Mean Point + Multiple-interval plot\")"
  },
  {
    "objectID": "exercises/HE04c.html#visualizing-the-uncertainty-of-point-estimates-ggdist-methods-2",
    "href": "exercises/HE04c.html#visualizing-the-uncertainty-of-point-estimates-ggdist-methods-2",
    "title": "Hands-on Exercise 4c",
    "section": "4.3 Visualizing the uncertainty of point estimates: ggdist methods",
    "text": "4.3 Visualizing the uncertainty of point estimates: ggdist methods\nIn the code chunk below, stat_gradientinterval() of ggdist is used to build a visual for displaying distribution of math scores by race.\n\nexam %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_gradientinterval(   \n    fill = \"skyblue\",      \n    show.legend = TRUE     \n  ) +                        \n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Gradient + interval plot\")"
  },
  {
    "objectID": "exercises/HE04c.html#visualising-uncertainty-with-hypothetical-outcome-plots-hops-1",
    "href": "exercises/HE04c.html#visualising-uncertainty-with-hypothetical-outcome-plots-hops-1",
    "title": "Hands-on Exercise 4c",
    "section": "Visualising Uncertainty with Hypothetical Outcome Plots (HOPs)",
    "text": "Visualising Uncertainty with Hypothetical Outcome Plots (HOPs)\nThe code chunk below will be used to build the HOPs.\n\nggplot(data = exam, \n       (aes(x = factor(RACE), \n            y = MATHS))) +\n  geom_point(position = position_jitter(\n    height = 0.3, \n    width = 0.05), \n    size = 0.4, \n    color = \"#0072B2\", \n    alpha = 1/2) +\n  geom_hpline(data = sampler(25, \n                             group = RACE), \n              height = 0.6, \n              color = \"#D55E00\") +\n  theme_bw() + \n  transition_states(.draw, 1, 3)"
  },
  {
    "objectID": "exercises/HE04d.html",
    "href": "exercises/HE04d.html",
    "title": "Hands-on Exercise 4d",
    "section": "",
    "text": "Funnel plot is a specially designed data visualisation for conducting unbiased comparison between outlets, stores or business entities. By the end of this exercise, we will gain hands-on experience on:\n\nplotting funnel plots by using funnelPlotR package,\nplotting static funnel plot by using ggplot2 package, and\nplotting interactive funnel plot by using both plotly R and ggplot2 packages."
  },
  {
    "objectID": "exercises/HE04d.html#funnelplotr-methods-the-basic-plot",
    "href": "exercises/HE04d.html#funnelplotr-methods-the-basic-plot",
    "title": "Hands-on Exercise 4d",
    "section": "3.1 FunnelPlotR methods: The basic plot",
    "text": "3.1 FunnelPlotR methods: The basic plot\nThe code chunk below plots a funnel plot.\n\nfunnel_plot(\n  .data = covid19,\n  numerator = Positive,\n  denominator = Death,\n  group = `Sub-district`\n)\n\n\n\n\n\n\n\n\nA funnel plot object with 267 points of which 0 are outliers. \nPlot is adjusted for overdispersion. \n\n\nThings to learn from the code chunk above:\n\ngroup in this function is different from the scatterplot. Here, it defines the level of the points to be plotted i.e. Sub-district, District or City. If City is chosen, there are only six data points.\nBy default, data_type argument is “SR”.\nlimit: Plot limits, accepted values are: 95 or 99, corresponding to 95% or 99.8% quantiles of the distribution."
  },
  {
    "objectID": "exercises/HE04d.html#funnelplotr-methods-makeover-1",
    "href": "exercises/HE04d.html#funnelplotr-methods-makeover-1",
    "title": "Hands-on Exercise 4d",
    "section": "3.2 FunnelPlotR methods: Makeover 1",
    "text": "3.2 FunnelPlotR methods: Makeover 1\nThe code chunk below plots a funnel plot.\n\nfunnel_plot(\n  .data = covid19,\n  numerator = Death,\n  denominator = Positive,\n  group = `Sub-district`,\n  data_type = \"PR\",     #&lt;&lt;\n  xrange = c(0, 6500),  #&lt;&lt;\n  yrange = c(0, 0.05)   #&lt;&lt;\n)\n\n\n\n\n\n\n\n\nA funnel plot object with 267 points of which 7 are outliers. \nPlot is adjusted for overdispersion. \n\n\nThings to learn from the code chunk above:\n\n data_type argument is used to change from default “SR” to “PR” (i.e. proportions).\n xrange and yrange are used to set the range of x-axis and y-axis."
  },
  {
    "objectID": "exercises/HE04d.html#funnelplotr-methods-makeover-2",
    "href": "exercises/HE04d.html#funnelplotr-methods-makeover-2",
    "title": "Hands-on Exercise 4d",
    "section": "3.3 FunnelPlotR methods: Makeover 2",
    "text": "3.3 FunnelPlotR methods: Makeover 2\nThe code chunk below plots a funnel plot.\n\nfunnel_plot(\n  .data = covid19,\n  numerator = Death,\n  denominator = Positive,\n  group = `Sub-district`,\n  data_type = \"PR\",   \n  xrange = c(0, 6500),  \n  yrange = c(0, 0.05),\n  label = NA,\n  title = \"Cumulative COVID-19 Fatality Rate by Cumulative Total Number of COVID-19 Positive Cases\", #&lt;&lt;           \n  x_label = \"Cumulative COVID-19 Positive Cases\", #&lt;&lt;\n  y_label = \"Cumulative Fatality Rate\"  #&lt;&lt;\n)\n\n\n\n\n\n\n\n\nA funnel plot object with 267 points of which 7 are outliers. \nPlot is adjusted for overdispersion. \n\n\nThings to learn from the code chunk above.\n\nlabel = NA argument is to removed the default label outliers feature.\ntitle argument is used to add plot title.\nx_label and y_label arguments are used to add/edit x-axis and y-axis titles."
  },
  {
    "objectID": "exercises/HE04d.html#computing-the-basic-derived-fields",
    "href": "exercises/HE04d.html#computing-the-basic-derived-fields",
    "title": "Hands-on Exercise 4d",
    "section": "4.1 Computing the basic derived fields",
    "text": "4.1 Computing the basic derived fields\nTo plot the funnel plot from scratch, we need to derive cumulative death rate and standard error of cumulative death rate.\n\ndf &lt;- covid19 %&gt;%\n  mutate(rate = Death / Positive) %&gt;%\n  mutate(rate.se = sqrt((rate*(1-rate)) / (Positive))) %&gt;%\n  filter(rate &gt; 0)\n\nNext, the fit.mean is computed by using the code chunk below.\n\nfit.mean &lt;- weighted.mean(df$rate, 1/df$rate.se^2)"
  },
  {
    "objectID": "exercises/HE04d.html#calculate-lower-and-upper-limits-for-95-and-99.9-ci",
    "href": "exercises/HE04d.html#calculate-lower-and-upper-limits-for-95-and-99.9-ci",
    "title": "Hands-on Exercise 4d",
    "section": "4.2 Calculate lower and upper limits for 95% and 99.9% CI",
    "text": "4.2 Calculate lower and upper limits for 95% and 99.9% CI\nThe code chunk below is used to compute the lower and upper limits for 95% confidence interval.\n\nnumber.seq &lt;- seq(1, max(df$Positive), 1)\nnumber.ll95 &lt;- fit.mean - 1.96 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \nnumber.ul95 &lt;- fit.mean + 1.96 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \nnumber.ll999 &lt;- fit.mean - 3.29 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \nnumber.ul999 &lt;- fit.mean + 3.29 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \ndfCI &lt;- data.frame(number.ll95, number.ul95, number.ll999, \n                   number.ul999, number.seq, fit.mean)"
  },
  {
    "objectID": "exercises/HE04d.html#plotting-a-static-funnel-plot",
    "href": "exercises/HE04d.html#plotting-a-static-funnel-plot",
    "title": "Hands-on Exercise 4d",
    "section": "4.3 Plotting a static funnel plot",
    "text": "4.3 Plotting a static funnel plot\nIn the code chunk below, ggplot2 functions are used to plot a static funnel plot.\n\np &lt;- ggplot(df, aes(x = Positive, y = rate)) +\n  geom_point(aes(label=`Sub-district`), \n             alpha=0.4) +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ll95), \n            size = 0.4, \n            colour = \"grey40\", \n            linetype = \"dashed\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ul95), \n            size = 0.4, \n            colour = \"grey40\", \n            linetype = \"dashed\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ll999), \n            size = 0.4, \n            colour = \"grey40\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ul999), \n            size = 0.4, \n            colour = \"grey40\") +\n  geom_hline(data = dfCI, \n             aes(yintercept = fit.mean), \n             size = 0.4, \n             colour = \"grey40\") +\n  coord_cartesian(ylim=c(0,0.05)) +\n  annotate(\"text\", x = 1, y = -0.13, label = \"95%\", size = 3, colour = \"grey40\") + \n  annotate(\"text\", x = 4.5, y = -0.18, label = \"99%\", size = 3, colour = \"grey40\") + \n  ggtitle(\"Cumulative Fatality Rate by Cumulative Number of COVID-19 Cases\") +\n  xlab(\"Cumulative Number of COVID-19 Cases\") + \n  ylab(\"Cumulative Fatality Rate\") +\n  theme_light() +\n  theme(plot.title = element_text(size=12),\n        legend.position = c(0.91,0.85), \n        legend.title = element_text(size=7),\n        legend.text = element_text(size=7),\n        legend.background = element_rect(colour = \"grey60\", linetype = \"dotted\"),\n        legend.key.height = unit(0.3, \"cm\"))\np"
  },
  {
    "objectID": "exercises/HE04d.html#interactive-funnel-plot-plotly-ggplot2",
    "href": "exercises/HE04d.html#interactive-funnel-plot-plotly-ggplot2",
    "title": "Hands-on Exercise 4d",
    "section": "4.4 Interactive Funnel Plot: plotly + ggplot2",
    "text": "4.4 Interactive Funnel Plot: plotly + ggplot2\nThe funnel plot created using ggplot2 functions can be made interactive with ggplotly() of plotly r package.\n\nfp_ggplotly &lt;- ggplotly(p,\n  tooltip = c(\"label\", \n              \"x\", \n              \"y\"))\nfp_ggplotly"
  },
  {
    "objectID": "index.html#quick-links",
    "href": "index.html#quick-links",
    "title": "Visual Analytics and Applications Coursework",
    "section": "Quick Links",
    "text": "Quick Links\n\n\n\n\n\n\n\n\nIn-class Exercise 1\nIntro to Tableau\nIn-class Exercise 2\nPareto Chart on Tableau\nIn-class Exercise 3\nLollipop Chart on Tableau"
  },
  {
    "objectID": "exercises/HE05b.html",
    "href": "exercises/HE05b.html",
    "title": "Hands-on Exercise 5b",
    "section": "",
    "text": "Correlation coefficient is a popular statistic used to measure the type and strength of the relationship between two variables. The values of a correlation coefficient ranges between -1.0 and 1.0. A correlation coefficient of 1 shows a perfect linear relationship between the two variables, while a -1.0 shows a perfect inverse relationship between the two variables. A correlation coefficient of 0.0 shows no linear relationship between the two variables.\nWhen multivariate data is used, the correlation coefficeints of the pair comparisons are displayed in a table form known as correlation matrix or scatterplot matrix.\nThere are three broad reasons for computing a correlation matrix:\n\nTo reveal the relationship between high-dimensional variables pair-wisely.\nTo input into other analyses. For example, people commonly use correlation matrices as inputs for exploratory factor analysis, confirmatory factor analysis, structural equation models, and linear regression when excluding missing values pairwise.\nAs a diagnostic when checking other analyses. For example, with linear regression a high amount of correlations suggests that the linear regression’s estimates will be unreliable.\n\nWhen the data is large, both in terms of the number of observations and the number of variables, Corrgram tends to be used to visually explore and analyse the structure and the patterns of relations among variables. It is designed based on two main schemes:\n\nRendering the value of a correlation to depict its sign and magnitude, and\nReordering the variables in a correlation matrix so that “similar” variables are positioned adjacently, facilitating perception.\n\nIn this hands-on exercise, we will learn how to plot data visualisation for visualising correlation matrix with R. It consists of three main sections. First, we will learn how to create correlation matrix using pairs() of R Graphics. Next, we will learn how to plot corrgram using corrplot package of R. And lastly, we will learn how to create an interactive correlation matrix using plotly R."
  },
  {
    "objectID": "exercises/HE05b.html#building-a-basic-correlation-matrix",
    "href": "exercises/HE05b.html#building-a-basic-correlation-matrix",
    "title": "Hands-on Exercise 5b",
    "section": "3.1 Building a basic correlation matrix",
    "text": "3.1 Building a basic correlation matrix\n\nCorrelation plot with columns 1-11Correlation plot with columns 2-12\n\n\nFigure below shows the scatter plot matrix for Wine Quality Data. It is a 11 by 11 matrix.\n\npairs(wine[,1:11])\n\n\n\n\n\n\n\n\n\n\nThe required input of pairs() can be a matrix or a data frame. The code chunk used to create the scatterplot matrix is relatively simple. It uses the default pairs function. Columns 2 to 12 of the wine dataframe are used to build the scatterplot matrix.\nThe variables are: fixed acidity, volatile acidity, citric acid, residual sugar, chlorides, free sulfur dioxide, total sulfur dioxide, density, pH, sulphates and alcohol.\n\npairs(wine[,2:12])"
  },
  {
    "objectID": "exercises/HE05b.html#drawing-the-lower-corner",
    "href": "exercises/HE05b.html#drawing-the-lower-corner",
    "title": "Hands-on Exercise 5b",
    "section": "3.2 Drawing the lower corner",
    "text": "3.2 Drawing the lower corner\nThe pairs function of R Graphics provides many customisation arguments. For example, it is a common practice to show either the upper half or lower half of the correlation matrix instead of both, since a correlation matrix is symmetric.\n\nLower half of correlation plotUpper half of correlation plot\n\n\nLet’s first show the lower half of the correlation matrix by using the upper.panel argument as shown in the code chunk below.\n\npairs(wine[,2:12], upper.panel = NULL)\n\n\n\n\n\n\n\n\n\n\nSimilarly, we can display the upper half of the correlation matrix by using the code chunk below.\n\npairs(wine[,2:12], lower.panel = NULL)"
  },
  {
    "objectID": "exercises/HE05b.html#including-with-correlation-coefficients",
    "href": "exercises/HE05b.html#including-with-correlation-coefficients",
    "title": "Hands-on Exercise 5b",
    "section": "3.3 Including with Correlation Coefficients",
    "text": "3.3 Including with Correlation Coefficients\nTo show the correlation coefficient of each pair of variables instead of a scatter plot, panel.cor function will be used. This will also show higher correlations in a larger font.\n\npanel.cor &lt;- function(x, y, digits=2, prefix=\"\", cex.cor, ...) {\nusr &lt;- par(\"usr\")\non.exit(par(usr))\npar(usr = c(0, 1, 0, 1))\nr &lt;- abs(cor(x, y, use=\"complete.obs\"))\ntxt &lt;- format(c(r, 0.123456789), digits=digits)[1]\ntxt &lt;- paste(prefix, txt, sep=\"\")\nif(missing(cex.cor)) cex.cor &lt;- 0.8/strwidth(txt)\ntext(0.5, 0.5, txt, cex = cex.cor * (1 + r) / 2)\n}\n\npairs(wine[,2:12], \n      upper.panel = panel.cor)"
  },
  {
    "objectID": "exercises/HE05b.html#the-basic-plot",
    "href": "exercises/HE05b.html#the-basic-plot",
    "title": "Hands-on Exercise 5b",
    "section": "4.1 The basic plot",
    "text": "4.1 The basic plot\nOne of the advantages of using ggcorrmat() to visualise a correlation matrix over (many) other methods is its ability to provide a comprehensive yet professional statistical report as shown in the figure below.\n\nggstatsplot::ggcorrmat(\n  data = wine, \n  cor.vars = 1:11)\n\n\n\n\n\n\n\n\n\nggstatsplot::ggcorrmat(\n  data = wine, \n  cor.vars = 1:11,\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  title    = \"Correlogram for wine dataset\",\n  subtitle = \"Four pairs are no significant at p &lt; 0.05\"\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThings to learn from the code chunk above:\n\ncor.vars argument is used to compute the correlation matrix needed to build the corrgram.\nggcorrplot.args argument provide additional (mostly aesthetic) arguments that will be passed to ggcorrplot::ggcorrplot function. The list should avoid any of the following arguments since they are already internally being used: corr, method, p.mat, sig.level, ggtheme, colors, lab, pch, legend.title, digits.\n\n\n\nThe sample sub-code chunk can be used to control specific components of the plot such as the font size of the x-axis, y-axis, and the statistical report.\n\nggplot.component = list(\n    theme(text=element_text(size=5),\n      axis.text.x = element_text(size = 8),\n      axis.text.y = element_text(size = 8)))"
  },
  {
    "objectID": "exercises/HE05a.html",
    "href": "exercises/HE05a.html",
    "title": "Hands-on Exercise 5a",
    "section": "",
    "text": "Ternary plots are a way of displaying the distribution and variability of three-part compositional data. (For example, the proportion of aged, economy active and young population or sand, silt, and clay in soil.) Its display is a triangle with sides scaled from 0 to 1. Each side represents one of the three components. A point is plotted so that a line drawn perpendicular from the point to each leg of the triangle intersect at the component values of the point.\nIn this hands-on, we will learn how to build ternary plots programmatically using R for visualising and analysing the population structure of Singapore.\nThis hands-on exercise consists of four steps:\n\nInstall and launch tidyverse and ggtern packages.\nDerive three new measures using mutate() function of dplyr package.\nBuild a static ternary plot using ggtern() function of ggtern package.\nBuild an interactive ternary plot using plot-ly() function of Plotly R package."
  },
  {
    "objectID": "exercises/HE05a.html#plotting-a-static-ternary-diagram",
    "href": "exercises/HE05a.html#plotting-a-static-ternary-diagram",
    "title": "Hands-on Exercise 5a",
    "section": "3.1 Plotting a static ternary diagram",
    "text": "3.1 Plotting a static ternary diagram\nWe will use ggtern() function of ggtern package to create a simple ternary plot.\n\nggtern(data=agpop_mutated,aes(x=YOUNG,y=ACTIVE, z=OLD)) +\n  geom_point()\n\n\n\n\n\n\n\n\n\nggtern(data=agpop_mutated, aes(x=YOUNG,y=ACTIVE, z=OLD)) +\n  geom_point() +\n  labs(title=\"Population structure, 2015\") +\n  theme_rgbw()"
  },
  {
    "objectID": "exercises/HE05a.html#plotting-an-interactive-ternary-diagram",
    "href": "exercises/HE05a.html#plotting-an-interactive-ternary-diagram",
    "title": "Hands-on Exercise 5a",
    "section": "3.2 Plotting an interactive ternary diagram",
    "text": "3.2 Plotting an interactive ternary diagram\nThe code below creates an interactive ternary plot using plot_ly() function of Plotly R.\n\n# reusable function for creating annotation object\nlabel &lt;- function(txt) {\n  list(\n    text = txt, \n    x = 0.1, y = 1,\n    ax = 0, ay = 0,\n    xref = \"paper\", yref = \"paper\", \n    align = \"center\",\n    font = list(family = \"serif\", size = 15, color = \"white\"),\n    bgcolor = \"#b3b3b3\", bordercolor = \"black\", borderwidth = 2\n  )\n}\n\n# reusable function for axis formatting\naxis &lt;- function(txt) {\n  list(\n    title = txt, tickformat = \".0%\", tickfont = list(size = 10)\n  )\n}\n\nternaryAxes &lt;- list(\n  aaxis = axis(\"Young\"), \n  baxis = axis(\"Active\"), \n  caxis = axis(\"Old\")\n)\n\n# Initiating a plotly visualization \nplot_ly(\n  agpop_mutated, \n  a = ~YOUNG, \n  b = ~ACTIVE, \n  c = ~OLD, \n  color = I(\"black\"), \n  type = \"scatterternary\"\n) %&gt;%\n  layout(\n    annotations = label(\"Ternary Markers\"), \n    ternary = ternaryAxes\n  )"
  },
  {
    "objectID": "exercises/HE05b.html#getting-started-with-corrplot",
    "href": "exercises/HE05b.html#getting-started-with-corrplot",
    "title": "Hands-on Exercise 5b",
    "section": "6.1 Getting started with corrplot",
    "text": "6.1 Getting started with corrplot\nBefore we can plot a corrgram using corrplot(), we need to compute the correlation matrix of wine data frame.\nIn the code chunk below, cor() of R Stats is used to compute the correlation matrix of wine data frame.\n\nwine.cor &lt;- cor(wine[, 1:11])\n\nNext, corrplot() is used to plot the corrgram by using all the default settings as shown in the code chunk below.\n\ncorrplot(wine.cor)\n\n\n\n\n\n\n\n\nNotice that the default visual object used to plot the corrgram is a circle. The default layout of the corrgram is a symmetric matrix. The default colour scheme is diverging blue-red. Blue colours are used to represent pair variables with positive correlation coefficients and red colours are used to represent pair variables with negative correlation coefficients. The intensity of the colour or also known as saturation is used to represent the strength of the correlation coefficient. Darker colours indicate relatively stronger linear relationship between the paired variables. On the other hand, lighter colours indicate relatively weaker linear relationship."
  },
  {
    "objectID": "exercises/HE05b.html#working-with-visual-geometrics",
    "href": "exercises/HE05b.html#working-with-visual-geometrics",
    "title": "Hands-on Exercise 5b",
    "section": "6.2 Working with visual geometrics",
    "text": "6.2 Working with visual geometrics\nIn corrplot package, there are seven visual geometrics (parameter method) can be used to encode the attribute values. They are: circle, square, ellipse, number, shade, color and pie. The default is circle. As shown in the previous section, the default visual geometric of corrplot matrix is circle. However, this default setting can be changed by using the method argument as shown in the code chunk below.\n\ncorrplot(wine.cor, \n         method = \"ellipse\") \n\n\n\n\n\n\n\n\nFeel free to experiment with other supported visual geometrics by changing the method argument."
  },
  {
    "objectID": "exercises/HE05b.html#working-with-layout",
    "href": "exercises/HE05b.html#working-with-layout",
    "title": "Hands-on Exercise 5b",
    "section": "6.3 Working with layout",
    "text": "6.3 Working with layout\ncorrplor() supports three layout types, namely: “full”, “upper” or “lower”.\nThe default is “full” which display full matrix. The default setting can be changed by using the type argument of corrplot().\n\ncorrplot(wine.cor, \n         method = \"ellipse\", \n         type=\"lower\")\n\n\n\n\n\n\n\n\nThe default layout of the corrgram can be further customised. For example, arguments diag and tl.col are used to turn off the diagonal cells and to change the axis text label colour to black colour respectively as shown in the code chunk and figure below.\n\ncorrplot(wine.cor, \n         method = \"ellipse\", \n         type=\"lower\",\n         diag = FALSE,\n         tl.col = \"black\")\n\n\n\n\n\n\n\n\nFeel free to experiment with other layout design arguments such as tl.pos, tl.cex, tl.offset, cl.pos, cl.cex and cl.offset, just to mention a few of them."
  },
  {
    "objectID": "exercises/HE05b.html#working-with-mixed-layout",
    "href": "exercises/HE05b.html#working-with-mixed-layout",
    "title": "Hands-on Exercise 5b",
    "section": "6.4 Working with mixed layout",
    "text": "6.4 Working with mixed layout\nWith corrplot package, it is possible to design corrgram with mixed visual matrix of one half and numerical matrix on the other half. In order to create a coorgram with mixed layout, the corrplot.mixed(), a wrapped function for mixed visualisation style will be used.\nCode chunk and figure below show a mixed layout corrgram plotted using wine quality data.\n\ncorrplot.mixed(wine.cor, \n               lower = \"ellipse\", \n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\nNotice that the arguments lower and upper are used to define the visualisation method used. In this case ellipse is used to map the lower half of the corrgram and numerical matrix (i.e. number) is used to map the upper half of the corrgram. The argument tl.pos, on the other hand, is used to specify the placement of the axis label. Lastly, the diag argument is used to specify the glyph on the principal diagonal of the corrgram."
  },
  {
    "objectID": "exercises/HE05b.html#combining-corrgram-with-the-significant-test",
    "href": "exercises/HE05b.html#combining-corrgram-with-the-significant-test",
    "title": "Hands-on Exercise 5b",
    "section": "6.5 Combining corrgram with the significant test",
    "text": "6.5 Combining corrgram with the significant test\nIn statistical analysis, we are also interested to know which pair of variables have correlation coefficients that are statistically significant.\nWith corrplot package, we can use the cor.mtest() to compute the p-values and confidence interval for each pair of variables.\n\nwine.sig = cor.mtest(wine.cor, conf.level= .95)\n\nWe can then use the p.mat argument of corrplot function as shown in the code chunk below.\n\ncorrplot(wine.cor,\n         method = \"number\",\n         type = \"lower\",\n         diag = FALSE,\n         tl.col = \"black\",\n         tl.srt = 45,\n         p.mat = wine.sig$p,\n         sig.level = .05)"
  },
  {
    "objectID": "exercises/HE05b.html#reorder-a-corrgram",
    "href": "exercises/HE05b.html#reorder-a-corrgram",
    "title": "Hands-on Exercise 5b",
    "section": "6.6 Reorder a corrgram",
    "text": "6.6 Reorder a corrgram\nMatrix reorder is very important for mining the hidden structure and pattern in a corrgram. By default, the order of attributes of a corrgram is sorted according to the correlation matrix (i.e. “original”). The default setting can be over-written by using the order argument of corrplot(). Currently, the corrplot package supports four sorting methods, they are:\n\n“AOE” is for the angular order of the eigenvectors. See Michael Friendly (2002) for details.\n“FPC” for the first principal component order.\n“hclust” for hierarchical clustering order, and “hclust.method” for the agglomeration method to be used.\n\n“hclust.method” should be one of “ward”, “single”, “complete”, “average”, “mcquitty”, “median” or “centroid”.\n\n“alphabet” for alphabetical order.\n\n“AOE”, “FPC”, “hclust”, “alphabet”. More algorithms can be found in the seriation package.\n\ncorrplot.mixed(wine.cor, \n               lower = \"ellipse\", \n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               order=\"AOE\",\n               tl.col = \"black\")"
  },
  {
    "objectID": "exercises/HE05b.html#reordering-a-correlation-matrix-using-hclust",
    "href": "exercises/HE05b.html#reordering-a-correlation-matrix-using-hclust",
    "title": "Hands-on Exercise 5b",
    "section": "6.7 Reordering a correlation matrix using hclust",
    "text": "6.7 Reordering a correlation matrix using hclust\nIf using hclust, corrplot() can draw rectangles around the corrgram based on the results of hierarchical clustering.\n\ncorrplot(wine.cor, \n         method = \"ellipse\", \n         tl.pos = \"lt\",\n         tl.col = \"black\",\n         order=\"hclust\",\n         hclust.method = \"ward.D\",\n         addrect = 3)"
  },
  {
    "objectID": "exercises/HE05b.html#r-packages",
    "href": "exercises/HE05b.html#r-packages",
    "title": "Hands-on Exercise 5b",
    "section": "7.1 R packages",
    "text": "7.1 R packages\n\nggcormat() of ggstatsplot package\nggscatmat and ggpairs of GGally.\ncorrplot. A graphical display of a correlation matrix or general matrix. It also contains some algorithms to do matrix reordering. In addition, corrplot is good at details, including choosing color, text labels, color labels, layout, etc.\ncorrgram calculates correlation of variables and displays the results graphically. Included panel functions can display points, shading, ellipses, and correlation values with confidence intervals."
  },
  {
    "objectID": "exercises/HE05c.html",
    "href": "exercises/HE05c.html",
    "title": "Hands-on Exercise 5c",
    "section": "",
    "text": "Heatmaps visualise data through variations in colouring. When applied to a tabular format, heatmaps are useful for cross-examining multivariate data, through placing variables in the columns and observation (or records) in rows and colouring the cells within the table. Heatmaps are good for showing variance across multiple variables, revealing any patterns, displaying whether any variables are similar to each other, and for detecting if any correlations exist in-between them.\nIn this hands-on exercise, we will learn about using R to plot static and interactive heatmaps for visualising and analysing multivariate data."
  },
  {
    "objectID": "exercises/HE05c.html#installing-and-loading-r-packages",
    "href": "exercises/HE05c.html#installing-and-loading-r-packages",
    "title": "Hands-on Exercise 5c",
    "section": "2.1 Installing and loading R packages",
    "text": "2.1 Installing and loading R packages\nBefore we get started, we need to open a new Quarto document. Keep the default html as the authoring format.\nNext, we will use the code chunk below to install and launch seriation, heatmaply, dendextend and tidyverse in RStudio.\n\npacman::p_load(seriation, dendextend, heatmaply, tidyverse)"
  },
  {
    "objectID": "exercises/HE05c.html#importing-and-preparing-the-dataset",
    "href": "exercises/HE05c.html#importing-and-preparing-the-dataset",
    "title": "Hands-on Exercise 5c",
    "section": "2.2 Importing and preparing the dataset",
    "text": "2.2 Importing and preparing the dataset\n\nImporting DataPreparing the dataTransforming the data frame into a matrix\n\n\nIn this hands-on exercise, the data of World Happines 2018 report will be used. The data set is downloaded from here. The original data set is in Microsoft Excel format. It has been extracted and saved in csv file called WHData-2018.csv.\nIn the code chunk below, read_csv() of readr is used to import WHData-2018.csv into R and parsed it into tibble R data frame format.\n\nwh &lt;- read_csv(\"../data/WHData-2018.csv\")\n\nThe output tibbled data frame is called wh.\n\n\nNext, we need to change the rows by country name instead of row number by using the code chunk below\n\nrow.names(wh) &lt;- wh$Country\n\nNotice that the row number has been replaced into the country name.\n\n\nThe data was loaded into a data frame, but it has to be a data matrix to make the heatmap.\nThe code chunk below will be used to transform wh data frame into a data matrix.\n\nwh1 &lt;- dplyr::select(wh, c(3, 7:12))\nwh_matrix &lt;- data.matrix(wh)\n\nNotice that wh_matrix is in R matrix format."
  },
  {
    "objectID": "exercises/HE05c.html#heatmap-of-r-stats",
    "href": "exercises/HE05c.html#heatmap-of-r-stats",
    "title": "Hands-on Exercise 5c",
    "section": "3.1 heatmap() of R stats",
    "text": "3.1 heatmap() of R stats\n\nwh_heatmap &lt;- heatmap(wh_matrix,\n                      Rowv=NA, Colv=NA, cexCol = 0.6)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nBy default, heatmap() plots a cluster heatmap. The arguments Rowv=NA and Colv=NA are used to switch off the option of plotting the row and column dendrograms.\n\n\nTo plot a cluster heatmap, we just have to use the default as shown in the code chunk below.\n\nwh_heatmap &lt;- heatmap(wh_matrix, cexCol = 0.6)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThe order of both rows and columns is different compared to the native wh_matrix. This is because heatmap does a reordering using clusterisation: it calculates the distance between each pair of rows and columns and tries to order them by similarity. Moreover, the corresponding dendrogram is provided beside the heatmap.\n\n\nHere, the red cells denote small values, and red small ones. This heatmap is not really informative. The Happiness Score variable has relatively higher values, which makes the other variables with small values all look the same. Thus, we need to normalize this matrix. This is done using the scale argument. It can be applied to rows or to columns based on our needs.\nThe code chunk below normalises the matrix column-wise.\n\nwh_heatmap &lt;- heatmap(wh_matrix,\n                      scale=\"column\",\n                      cexRow = 0.6, \n                      cexCol = 0.6,\n                      margins = c(10, 4))\n\n\n\n\n\n\n\n\nNotice that the values are scaled now. Also note that margins argument is used to ensure that the entire x-axis labels are displayed completely and, cexRow and cexCol arguments are used to define the font size used for y-axis and x-axis labels respectively."
  },
  {
    "objectID": "exercises/HE05c.html#working-with-heatmaply",
    "href": "exercises/HE05c.html#working-with-heatmaply",
    "title": "Hands-on Exercise 5c",
    "section": "4.1 Working with heatmaply",
    "text": "4.1 Working with heatmaply\n\nheatmaply(mtcars)\n\n\n\n\n\nThe code chunk below shows the basic syntax needed to create n interactive heatmap by using heatmaply package.\n\nheatmaply(wh_matrix[, -c(1, 2, 4, 5)])\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\n\nDifferent from heatmap(), for heatmaply() the default horizontal dendrogram is placed on the left hand side of the heatmap.\nThe text label of each raw, on the other hand, is placed on the right hand side of the heat map.\nWhen the x-axis marker labels are too long, they will be rotated by 135 degree from the north."
  },
  {
    "objectID": "exercises/HE05c.html#data-transformation",
    "href": "exercises/HE05c.html#data-transformation",
    "title": "Hands-on Exercise 5c",
    "section": "4.2 Data transformation",
    "text": "4.2 Data transformation\nWhen analysing multivariate data sets, it is very common that the variables in the data sets include values that reflect different types of measurements. In general, these variables’ values have their own range. In order to ensure that all the variables have comparable values, data transformation is commonly used before clustering.\nThree main data transformation methods are supported by heatmaply(), namely: scale, normalise and percentize.\n\n4.2.1 Scaling method\n\nWhen all variables come from or are assumed to come from some normal distribution, then scaling (i.e.: subtract the mean and divide by the standard deviation) would bring them all close to the standard normal distribution.\nIn such a case, each value would reflect the distance from the mean in units of standard deviation.\nThe scale argument in heatmaply() supports column and row scaling.\n\nThe code chunk below is used to scale variable values columnwise.\n\nheatmaply(wh_matrix[, -c(1, 2, 4, 5)],\n          scale = \"column\")\n\n\n\n\n\n\n\n4.2.2 Normalising method\n\nWhen variables in the data come from possibly different (and non-normal) distributions, the normalize function can be used to bring data to the 0 to 1 scale by subtracting the minimum and dividing by the maximum of all observations.\nThis preserves the shape of each variable’s distribution while making them easily comparable on the same “scale”.\n\nDifferent from scaling, the normalising method is performed on the input data set i.e. wh_matrix as shown in the code chunk below.\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]))\n\n\n\n\n\n\n\n4.2.3 Percentizing method\n\nThis is similar to ranking the variables, but instead of keeping the rank values, divide them by the maximal rank.\nThis is done by using the ecdf of the variables on their own values, bringing each value to its empirical percentile.\nThe benefit of the percentize function is that each value has a relatively clear interpretation, it is the percent of observations that got that value or below it.\n\nSimilar to Normalize method, the Percentize method is also performed on the input data set i.e. wh_matrix as shown in the code chunk below.\n\nheatmaply(percentize(wh_matrix[, -c(1, 2, 4, 5)]))"
  },
  {
    "objectID": "exercises/HE05c.html#clustering-algorithm",
    "href": "exercises/HE05c.html#clustering-algorithm",
    "title": "Hands-on Exercise 5c",
    "section": "4.3 Clustering algorithm",
    "text": "4.3 Clustering algorithm\nheatmaply supports a variety of hierarchical clustering algorithm. The main arguments provided are:\n\ndistfun: function used to compute the distance (dissimilarity) between both rows and columns. Defaults to dist. The options “pearson”, “spearman” and “kendall” can be used to use correlation-based clustering, which uses as.dist(1 - cor(t(x))) as the distance metric (using the specified correlation method).\nhclustfun: function used to compute the hierarchical clustering when Rowv or Colv are not dendrograms. Defaults to hclust.\ndist_method default is NULL, which results in “euclidean” to be used. It can accept alternative character strings indicating the method to be passed to distfun. By default distfun is “dist”” hence this can be one of “euclidean”, “maximum”, “manhattan”, “canberra”, “binary” or “minkowski”.\nhclust_method default is NULL, which results in “complete” method to be used. It can accept alternative character strings indicating the method to be passed to hclustfun. By default hclustfun is hclust hence this can be one of “ward.D”, “ward.D2”, “single”, “complete”, “average” (= UPGMA), “mcquitty” (= WPGMA), “median” (= WPGMC) or “centroid” (= UPGMC).\n\nIn general, a clustering model can be calibrated either manually or statistically."
  },
  {
    "objectID": "exercises/HE05c.html#manual-approach",
    "href": "exercises/HE05c.html#manual-approach",
    "title": "Hands-on Exercise 5c",
    "section": "4.4 Manual approach",
    "text": "4.4 Manual approach\nIn the code chunk below, the heatmap is plotted by using hierachical clustering algorithm with “Euclidean distance” and “ward.D” method.\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          dist_method = \"euclidean\",\n          hclust_method = \"ward.D\")"
  },
  {
    "objectID": "exercises/HE05c.html#statistical-approach",
    "href": "exercises/HE05c.html#statistical-approach",
    "title": "Hands-on Exercise 5c",
    "section": "4.5 Statistical approach",
    "text": "4.5 Statistical approach\nIn order to determine the best clustering method and number of clusters the dend_expend() and find_k() functions of dendextend package will be used.\nFirst, the dend_expend() will be used to determine the recommended clustering method to be used.\n\nwh_d &lt;- dist(normalize(wh_matrix[, -c(1, 2, 4, 5)]), method = \"euclidean\")\ndend_expend(wh_d)[[3]]\n\n  dist_methods hclust_methods     optim\n1      unknown         ward.D 0.6137851\n2      unknown        ward.D2 0.6289186\n3      unknown         single 0.4774362\n4      unknown       complete 0.6434009\n5      unknown        average 0.6701688\n6      unknown       mcquitty 0.5020102\n7      unknown         median 0.5901833\n8      unknown       centroid 0.6338734\n\n\nThe output table shows that “average” method should be used because it gave a high optimum value.\nNext, find_k() is used to determine the optimal number of clusters.\n\nwh_clust &lt;- hclust(wh_d, method = \"average\")\nnum_k &lt;- find_k(wh_clust)\nplot(num_k)\n\n\n\n\n\n\n\n\nFigure above shows that k=3 would be good.\nWith reference to the statistical analysis results, we can prepare the code chunk as shown below.\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          dist_method = \"euclidean\",\n          hclust_method = \"average\",\n          k_row = 3)"
  },
  {
    "objectID": "exercises/HE05c.html#seriation",
    "href": "exercises/HE05c.html#seriation",
    "title": "Hands-on Exercise 5c",
    "section": "4.6 Seriation",
    "text": "4.6 Seriation\nOne of the problems with hierarchical clustering is that it doesn’t actually place the rows in a definite order, it merely constrains the space of possible orderings. Take three items A, B and C. If you ignore reflections, there are three possible orderings: ABC, ACB, BAC. If clustering them gives you ((A+B)+C) as a tree, you know that C can’t end up between A and B, but it doesn’t tell you which way to flip the A+B cluster. It doesn’t tell you if the ABC ordering will lead to a clearer-looking heatmap than the BAC ordering.\nheatmaply uses the seriation package to find an optimal ordering of rows and columns. Optimal means to optimize the Hamiltonian path length that is restricted by the dendrogram structure. This, in other words, means to rotate the branches so that the sum of distances between each adjacent leaf (label) will be minimized. This is related to a restricted version of the travelling salesman problem.\nHere we meet our first seriation algorithm: Optimal Leaf Ordering (OLO). This algorithm starts with the output of an agglomerative clustering algorithm and produces a unique ordering, one that flips the various branches of the dendrogram around so as to minimize the sum of dissimilarities between adjacent leaves. Here is the result of applying Optimal Leaf Ordering to the same clustering result as the heatmap above.\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          seriate = \"OLO\")\n\n\n\n\n\nThe default option is “OLO” (Optimal leaf ordering) which optimizes the above criterion (in O(n^4)). Another option is “GW” (Gruvaeus and Wainer) which aims for the same goal but uses a potentially faster heuristic.\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          seriate = \"GW\")\n\n\n\n\n\nThe option “mean” gives the output we would get by default from heatmap functions in other packages such as gplots::heatmap.2.\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          seriate = \"mean\")\n\n\n\n\n\nThe option “none” gives us the dendrograms without any rotation that is based on the data matrix.\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          seriate = \"none\")"
  },
  {
    "objectID": "exercises/HE05c.html#working-with-colour-palettes",
    "href": "exercises/HE05c.html#working-with-colour-palettes",
    "title": "Hands-on Exercise 5c",
    "section": "4.7 Working with colour palettes",
    "text": "4.7 Working with colour palettes\nThe default colour palette uses by heatmaply is viridis. heatmaply users, however, can use other colour palettes in order to improve the aestheticness and visual friendliness of the heatmap.\nIn the code chunk below, the Blues colour palette of rColorBrewer is used\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          seriate = \"none\",\n          colors = Blues)"
  },
  {
    "objectID": "exercises/HE05c.html#the-finishing-touch",
    "href": "exercises/HE05c.html#the-finishing-touch",
    "title": "Hands-on Exercise 5c",
    "section": "4.8 The finishing touch",
    "text": "4.8 The finishing touch\nOther than providing a wide collection of arguments for meeting the statistical analysis needs, heatmaply also provides many plotting features to ensure cartographic quality heatmap can be produced.\nIn the code chunk below the following arguments are used:\n\nk_row is used to produce 5 groups.\nmargins is used to change the top margin to 60 and row margin to 200.\nfontsizw_row and fontsize_col are used to change the font size for row and column labels to 4.\nmain is used to write the main title of the plot.\nxlab and ylab are used to write the x-axis and y-axis labels respectively.\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          Colv=NA,\n          seriate = \"none\",\n          colors = Blues,\n          k_row = 5,\n          margins = c(NA,200,60,NA),\n          fontsize_row = 4,\n          fontsize_col = 5,\n          main=\"World Happiness Score and Variables by Country, 2018 \\nDataTransformation using Normalise Method\",\n          xlab = \"World Happiness Indicators\",\n          ylab = \"World Countries\"\n          )"
  },
  {
    "objectID": "exercises/HE05d.html",
    "href": "exercises/HE05d.html",
    "title": "Hands-on Exercise 5d",
    "section": "",
    "text": "Parallel coordinates plot is a data visualisation specially designed for visualising and analysing multivariate, numerical data. It is ideal for comparing multiple variables together and seeing the relationships between them. For example, the variables contribute to Happiness Index. Parallel coordinates was invented by Alfred Inselberg in the 1970s as a way to visualize high-dimensional data. This data visualisation technique is more often found in academic and scientific communities than in business and consumer data visualizations. As pointed out by Stephen Few(2006), “This certainly isn’t a chart that you would present to the board of directors or place on your Web site for the general public. In fact, the strength of parallel coordinates isn’t in their ability to communicate some truth in the data to others, but rather in their ability to bring meaningful multivariate patterns and comparisons to light when used interactively for analysis.” For example, parallel coordinates plot can be used to characterise clusters detected during customer segmentation.\nBy the end of this hands-on exercise, we will gain hands-on experience using:\n\nplotting statistic parallel coordinates plots by using ggparcoord() of GGally package, and\nplotting interactive parallel coordinates plots by using parallelPlot package."
  },
  {
    "objectID": "exercises/HE05d.html#plotting-a-simple-parallel-coordinates",
    "href": "exercises/HE05d.html#plotting-a-simple-parallel-coordinates",
    "title": "Hands-on Exercise 5d",
    "section": "3.1 Plotting a simple parallel coordinates",
    "text": "3.1 Plotting a simple parallel coordinates\nThe code chunk below shows a typical syntax used to plot a basic static parallel coordinates plot by using ggparcoord()\n\nggparcoord(data = wh, \n           columns = c(7:12))\n\n\n\n\n\n\n\n\nNotice that only two arguments, namely data and columns are used. Data argument is used to map the data object (i.e. wh) and columns is used to select the columns for preparing the parallel coordinates plot."
  },
  {
    "objectID": "exercises/HE05d.html#plotting-a-parallel-coordinates-with-boxplot",
    "href": "exercises/HE05d.html#plotting-a-parallel-coordinates-with-boxplot",
    "title": "Hands-on Exercise 5d",
    "section": "3.2 Plotting a parallel coordinates with boxplot",
    "text": "3.2 Plotting a parallel coordinates with boxplot\nThe basic parallel coordinates failed to reveal any meaning understanding of the World Happiness measures. In this section, you will learn how to makeover the plot by using a collection of arguments provided by ggparcoord().\n\nggparcoord(data = wh, \n           columns = c(7:12), \n           groupColumn = 2,\n           scale = \"uniminmax\",\n           alphaLines = 0.2,\n           boxplot = TRUE, \n           title = \"Parallel Coordinates Plot of World Happines Variables\")\n\n\n\n\n\n\n\n\nThings to learn from the code chunk above:\n\ngroupColumn argument is used to group the observations (i.e. parallel lines) by using a single variable (i.e. Region) and colour the parallel coordinates lines by region name.\nscale argument is used to scale the variables in the parallel coordinate plot by using uniminmax method. The method univariately scale each variable so the minimum of the variable is zero and the maximum is one.\nalphaLines argument is used to reduce the intensity of the line colour to 0.2. The permissible value range is between 0 to 1.\nboxplot argument is used to turn on the boxplot by using logical TRUE. The default is FALSE.\ntitle argument is used to provide the parallel coordinates plot a title."
  },
  {
    "objectID": "exercises/HE05d.html#parallel-coordinates-with-facet",
    "href": "exercises/HE05d.html#parallel-coordinates-with-facet",
    "title": "Hands-on Exercise 5d",
    "section": "3.3 Parallel coordinates with facet",
    "text": "3.3 Parallel coordinates with facet\nSince ggparcoord() is developed by extending ggplot2 package, we can combination use some of the ggplot2 function when plotting a parallel coordinates plot.\nIn the code chunk below, facet_wrap() of ggplot2 is used to plot 10 small multiple parallel coordinates plots. Each plot represent one geographical region such as East Asia.\n\nggparcoord(data = wh, \n           columns = c(7:12), \n           groupColumn = 2,\n           scale = \"uniminmax\",\n           alphaLines = 0.2,\n           boxplot = TRUE, \n           title = \"Multiple Parallel Coordinates Plots of World Happines Variables by Region\") +\n  facet_wrap(~ Region)\n\n\n\n\n\n\n\n\nOne of the aesthetic defects of the current design is that some of the variable names overlap on x-axis."
  },
  {
    "objectID": "exercises/HE05d.html#rotating-x-axis-text-label",
    "href": "exercises/HE05d.html#rotating-x-axis-text-label",
    "title": "Hands-on Exercise 5d",
    "section": "3.4 Rotating x-axis text label",
    "text": "3.4 Rotating x-axis text label\nTo make the x-axis text label easy to read, let us rotate the labels by 30 degrees. We can rotate axis text labels using theme() function in ggplot2 as shown in the code chunk below\n\nggparcoord(data = wh, \n           columns = c(7:12), \n           groupColumn = 2,\n           scale = \"uniminmax\",\n           alphaLines = 0.2,\n           boxplot = TRUE, \n           title = \"Multiple Parallel Coordinates Plots of World Happines Variables by Region\") +\n  facet_wrap(~ Region) + \n  theme(axis.text.x = element_text(angle = 30))\n\n\n\n\n\n\n\n\nWhat we can learn from the code chunk above:\n\nTo rotate x-axis text labels, we use axis.text.x as argument to theme() function. And we specify element_text(angle = 30) to rotate the x-axis text by an angle 30 degree."
  },
  {
    "objectID": "exercises/HE05d.html#adjusting-the-rotated-x-axis-text-label",
    "href": "exercises/HE05d.html#adjusting-the-rotated-x-axis-text-label",
    "title": "Hands-on Exercise 5d",
    "section": "3.5 Adjusting the rotated x-axis text label",
    "text": "3.5 Adjusting the rotated x-axis text label\nRotating x-axis text labels to 30 degrees makes the label overlap with the plot and we can avoid this by adjusting the text location using hjust argument to theme’s text element with element_text(). We use axis.text.x as we want to change the look of x-axis text.\n\nggparcoord(data = wh, \n           columns = c(7:12), \n           groupColumn = 2,\n           scale = \"uniminmax\",\n           alphaLines = 0.2,\n           boxplot = TRUE, \n           title = \"Multiple Parallel Coordinates Plots of World Happines Variables by Region\") +\n  facet_wrap(~ Region) + \n  theme(axis.text.x = element_text(angle = 30, hjust=1))"
  },
  {
    "objectID": "exercises/HE05d.html#the-basic-plot",
    "href": "exercises/HE05d.html#the-basic-plot",
    "title": "Hands-on Exercise 5d",
    "section": "4.1 The basic plot",
    "text": "4.1 The basic plot\nThe code chunk below plot an interactive parallel coordinates plot by using parallelPlot().\n\nwh &lt;- wh %&gt;%\n  select(\"Happiness score\", c(7:12))\nparallelPlot(wh,\n             width = 320,\n             height = 250)\n\n\n\n\n\nNotice that some of the axis labels are too long. We will learn how to overcome this problem in the next step."
  },
  {
    "objectID": "exercises/HE05d.html#rotate-axis-labels",
    "href": "exercises/HE05d.html#rotate-axis-labels",
    "title": "Hands-on Exercise 5d",
    "section": "4.2 Rotate axis labels",
    "text": "4.2 Rotate axis labels\nIn the code chunk below, rotateTitle argument is used to avoid overlapping axis labels.\n\nparallelPlot(wh,\n             rotateTitle = TRUE)\n\n\n\n\n\nOne of the useful interactive features of parallelPlot is that we can click on a variable of interest, for example the Happiness score, and the monotonous blue colour (default) will change to a different intensity colour scheme."
  },
  {
    "objectID": "exercises/HE05d.html#changing-the-colour-scheme",
    "href": "exercises/HE05d.html#changing-the-colour-scheme",
    "title": "Hands-on Exercise 5d",
    "section": "4.3 Changing the colour scheme",
    "text": "4.3 Changing the colour scheme\nWe can change the default blue colour scheme by using continousCS argument as shown in the code chunl below.\n\nparallelPlot(wh,\n             continuousCS = \"YlOrRd\",\n             rotateTitle = TRUE)"
  },
  {
    "objectID": "exercises/HE05d.html#parallel-coordinates-plot-with-histogram",
    "href": "exercises/HE05d.html#parallel-coordinates-plot-with-histogram",
    "title": "Hands-on Exercise 5d",
    "section": "4.4 Parallel coordinates plot with histogram",
    "text": "4.4 Parallel coordinates plot with histogram\nIn the code chunk below, histoVisibility argument is used to plot a histogram along the axis of each variables.\n\nhistoVisibility &lt;- rep(TRUE, ncol(wh))\nparallelPlot(wh,\n             rotateTitle = TRUE,\n             histoVisibility = histoVisibility)"
  },
  {
    "objectID": "exercises/HE05e.html",
    "href": "exercises/HE05e.html",
    "title": "Hands-on Exercise 5e",
    "section": "",
    "text": "In this hands-on exercise, we will learn about designing treemaps using appropriate R packages. The hands-on exercise consists of three main sections. First, we will learn how to manipulate transaction data into a treemap strcuture by using selected functions provided in dplyr package. Then, we will learn how to plot static treemap by using treemap package. In the third section, we will learn how to design an interactive treemap using d3treeR package."
  },
  {
    "objectID": "exercises/HE05e.html#data-wrangling-and-manipulation",
    "href": "exercises/HE05e.html#data-wrangling-and-manipulation",
    "title": "Hands-on Exercise 5e",
    "section": "Data Wrangling and Manipulation",
    "text": "Data Wrangling and Manipulation\nThe data.frame realis2018 is in trasaction record form, which is highly disaggregated and not appropriate to be used to plot a treemap. In this section, we will perform the following steps to manipulate and prepare a data.frame that is appropriate for treemap visualisation:\n\ngroup transaction records by Project Name, Planning Region, Planning Area, Property Type and Type of Sale, and\ncompute Total Unit Sold, Total Area, Median Unit Price and Median Transacted Price by applying appropriate summary statistics on No. of Units, Area (sqm), Unit Price ($ psm) and Transacted Price ($) respectively.\n\nTwo key verbs of dplyr package, namely: group_by() and summarize() will be used to perform these steps.\ngroup_by() breaks down a data.frame into specified groups of rows. When you then apply the verbs above on the resulting object they’ll be automatically applied “by group”.\nGrouping affects the verbs as follows:\n\ngrouped select() is the same as ungrouped select(), except that grouping variables are always retained.\ngrouped arrange() is the same as ungrouped; unless you set .by_group = TRUE, in which case it orders first by the grouping variables.\nmutate() and filter() are most useful in conjunction with window functions (like rank(), or min(x) == x). They are described in detail in vignette(“window-functions”).\nsample_n() and sample_frac() sample the specified number/fraction of rows in each group.\nsummarise() computes the summary for each group.\n\nIn our case, group_by() will used together with summarise() to derive the summarised data.frame.\n\n\n\n\n\n\nNote\n\n\n\nFor those that are new to dplyr methods, make sure to consult Introduction to dplyr before moving on to the next section.\n\n\n\nGrouped summaries without the PipeGrouped summaries with the pipe\n\n\nThe code chank below shows a typical two lines code approach to perform the steps.\n\nrealis2018_grouped &lt;- group_by(realis2018, `Project Name`,\n                               `Planning Region`, `Planning Area`, \n                               `Property Type`, `Type of Sale`)\nrealis2018_summarised &lt;- summarise(realis2018_grouped, \n                          `Total Unit Sold` = sum(`No. of Units`, na.rm = TRUE),\n                          `Total Area` = sum(`Area (sqm)`, na.rm = TRUE),\n                          `Median Unit Price ($ psm)` = median(`Unit Price ($ psm)`, na.rm = TRUE), \n                          `Median Transacted Price` = median(`Transacted Price ($)`, na.rm = TRUE))\n\n\n\n\n\n\n\nNote\n\n\n\nAggregation functions such as sum() and meadian() obey the usual rule of missing values: if there’s any missing value in the input, the output will be a missing value. The argument na.rm = TRUE removes the missing values prior to computation.\n\n\nThe code chunk above is not very efficient because we have to give each intermediate data.frame a name, even though we don’t have to care about it.\n\n\nThe code chunk below shows a more efficient way to tackle the same processes by using the pipe, %&gt;%:\n\n\n\n\n\n\nNoteRecommendation\n\n\n\nTo learn more about pipe, visit this excellent article: Pipes in R Tutorial For Beginners.\n\n\n\nrealis2018_summarised &lt;- realis2018 %&gt;% \n  group_by(`Project Name`,`Planning Region`, \n           `Planning Area`, `Property Type`, \n           `Type of Sale`) %&gt;%\n  summarise(`Total Unit Sold` = sum(`No. of Units`, na.rm = TRUE), \n            `Total Area` = sum(`Area (sqm)`, na.rm = TRUE),\n            `Median Unit Price ($ psm)` = median(`Unit Price ($ psm)`, na.rm = TRUE),\n            `Median Transacted Price` = median(`Transacted Price ($)`, na.rm = TRUE))"
  },
  {
    "objectID": "exercises/HE05e.html#designing-a-static-treemap",
    "href": "exercises/HE05e.html#designing-a-static-treemap",
    "title": "Hands-on Exercise 5e",
    "section": "4.1 Designing a static treemap",
    "text": "4.1 Designing a static treemap\nIn this section, treemap() of Treemap package is used to plot a treemap showing the distribution of median unit prices and total unit sold of resale condominium by geographic hierarchy in 2017.\nFirst, we will select records belongs to resale condominium property type from realis2018_selected data frame.\n\nrealis2018_selected &lt;- realis2018_summarised %&gt;%\n  filter(`Property Type` == \"Condominium\", `Type of Sale` == \"Resale\")"
  },
  {
    "objectID": "exercises/HE05e.html#using-the-basic-arguments",
    "href": "exercises/HE05e.html#using-the-basic-arguments",
    "title": "Hands-on Exercise 5e",
    "section": "4.2 Using the basic arguments",
    "text": "4.2 Using the basic arguments\nThe code chunk below designs a treemap by using three core arguments of treemap(), namely: index, vSize and vColor.\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\n\n\n\n\n\n\n\nThings to learn from the three arguments used:\n\nindex\n\nThe index vector must consist of at least two column names or else no hierarchy treemap will be plotted.\nIf multiple column names are provided, such as the code chunk above, the first name is the highest aggregation level, the second name the second highest aggregation level, and so on.\n\nvSize\n\nThe column must not contain negative values. This is because it’s vaues will be used to map the sizes of the rectangles of the treemaps.\n\n\n\n\n\n\n\n\nWarning\n\n\n\nThe treemap above was wrongly coloured. For a correctly designed treemap, the colours of the rectagles should be in different intensity showing, in our case, median unit prices.\nFor treemap(), vColor is used in combination with the argument type to determines the colours of the rectangles. Without defining type, like the code chunk above, treemap() assumes type = index, in our case, the hierarchy of planning areas."
  },
  {
    "objectID": "exercises/HE05e.html#working-with-vcolor-and-type-arguments",
    "href": "exercises/HE05e.html#working-with-vcolor-and-type-arguments",
    "title": "Hands-on Exercise 5e",
    "section": "4.3 Working with vColor and type arguments",
    "text": "4.3 Working with vColor and type arguments\nIn the code chunk below, type argument is defined as value.\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type = \"value\",\n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\n\n\n\n\n\n\n\nThings to learn from the code chunk above:\n\nThe rectangles are coloured with different intensity of green, reflecting their respective median unit prices.\nThe legend reveals that the values are binned into ten bins, i.e. 0-5000, 5000-10000, etc. with an equal interval of 5000."
  },
  {
    "objectID": "exercises/HE05e.html#colours-in-treemap-package",
    "href": "exercises/HE05e.html#colours-in-treemap-package",
    "title": "Hands-on Exercise 5e",
    "section": "4.4 Colours in treemap package",
    "text": "4.4 Colours in treemap package\nThere are two arguments that determine the mapping to color palettes: mapping and palette. The only difference between “value” and “manual” is the default value for mapping. The “value” treemap considers palette to be a diverging color palette (say ColorBrewer’s “RdYlBu”), and maps it in such a way that 0 corresponds to the middle color (typically white or yellow), -max(abs(values)) to the left-end color, and max(abs(values)), to the right-end color. The “manual” treemap simply maps min(values) to the left-end color, max(values) to the right-end color, and mean(range(values)) to the middle color."
  },
  {
    "objectID": "exercises/HE05e.html#the-value-type-treemap",
    "href": "exercises/HE05e.html#the-value-type-treemap",
    "title": "Hands-on Exercise 5e",
    "section": "4.5 The “value” type treemap",
    "text": "4.5 The “value” type treemap\nThe code chunk below shows a value type treemap.\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"value\",\n        palette=\"RdYlBu\", \n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\n\n\n\n\n\n\n\nThings to learn from the code chunk above:\n\nalthough the colour palette used is RdYlBu but there are no red rectangles in the treemap above. This is because all the median unit prices are positive.\nThe reason why we see only 5000 to 45000 in the legend is because the range argument is by default c(min(values, max(values)) with some pretty rounding."
  },
  {
    "objectID": "exercises/HE05e.html#the-manual-type-treemap",
    "href": "exercises/HE05e.html#the-manual-type-treemap",
    "title": "Hands-on Exercise 5e",
    "section": "4.6 The “manual” type treemap",
    "text": "4.6 The “manual” type treemap\nThe “manual” type does not interpret the values as the “value” type does. Instead, the value range is mapped linearly to the colour palette.\nThe code chunk below shows a manual type treemap.\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"manual\",\n        palette=\"RdYlBu\", \n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\n\n\n\n\n\n\n\nThings to learn from the code chunk above:\n\nThe colour scheme used is very confusing. This is because mapping = (min(values), mean(range(values)), max(values)). It is not wise to use diverging colour palette such as RdYlBu if the values are all positive or negative\n\nTo overcome this problem, a single colour palette such as Blues should be used.\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"manual\",\n        palette=\"Blues\", \n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )"
  },
  {
    "objectID": "exercises/HE05e.html#treemap-layout",
    "href": "exercises/HE05e.html#treemap-layout",
    "title": "Hands-on Exercise 5e",
    "section": "4.7 Treemap layout",
    "text": "4.7 Treemap layout\ntreemap() supports two popular treemap layouts, namely: “squarified” and “pivotSize”. The default is “pivotSize”.\nThe squarified treemap algorithm (Bruls et al., 2000) produces good aspect ratios, but ignores the sorting order of the rectangles (sortID). The ordered treemap, pivot-by-size, algorithm (Bederson et al., 2002) takes the sorting order (sortID) into account while aspect ratios are still acceptable."
  },
  {
    "objectID": "exercises/HE05e.html#working-with-algorithm-argument",
    "href": "exercises/HE05e.html#working-with-algorithm-argument",
    "title": "Hands-on Exercise 5e",
    "section": "4.8 Working with algorithm argument",
    "text": "4.8 Working with algorithm argument\nThe code chunk below plots a squarified treemap by changing the algorithm argument.\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"manual\",\n        palette=\"Blues\", \n        algorithm = \"squarified\",\n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )"
  },
  {
    "objectID": "exercises/HE05e.html#using-sortid",
    "href": "exercises/HE05e.html#using-sortid",
    "title": "Hands-on Exercise 5e",
    "section": "4.9 Using sortID",
    "text": "4.9 Using sortID\nWhen “pivotSize” algorithm is used, sortID argument can be used to dertemine the order in which the rectangles are placed from top left to bottom right.\n\ntreemap(realis2018_selected,\n        index=c(\"Planning Region\", \"Planning Area\", \"Project Name\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"manual\",\n        palette=\"Blues\", \n        algorithm = \"pivotSize\",\n        sortID = \"Median Transacted Price\",\n        title=\"Resale Condominium by Planning Region and Area, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )"
  },
  {
    "objectID": "exercises/HE05e.html#designing-a-basic-treemap",
    "href": "exercises/HE05e.html#designing-a-basic-treemap",
    "title": "Hands-on Exercise 5e",
    "section": "5.1 Designing a basic treemap",
    "text": "5.1 Designing a basic treemap\n\nggplot(data=realis2018_selected, \n       aes(area = `Total Unit Sold`,\n           fill = `Median Unit Price ($ psm)`),\n       layout = \"scol\",\n       start = \"bottomleft\") + \n  geom_treemap() +\n  scale_fill_gradient(low = \"light blue\", high = \"blue\")"
  },
  {
    "objectID": "exercises/HE05e.html#defining-hierarchy",
    "href": "exercises/HE05e.html#defining-hierarchy",
    "title": "Hands-on Exercise 5e",
    "section": "5.2 Defining hierarchy",
    "text": "5.2 Defining hierarchy\nGroup by Planning Region\n\nggplot(data=realis2018_selected, \n       aes(area = `Total Unit Sold`,\n           fill = `Median Unit Price ($ psm)`,\n           subgroup = `Planning Region`),\n       start = \"topleft\") + \n  geom_treemap()\n\n\n\n\n\n\n\n\nGroup by Planning Area\n\nggplot(data=realis2018_selected, \n       aes(area = `Total Unit Sold`,\n           fill = `Median Unit Price ($ psm)`,\n           subgroup = `Planning Region`,\n           subgroup2 = `Planning Area`)) + \n  geom_treemap()\n\n\n\n\n\n\n\n\nAdding boundary line\n\nggplot(data=realis2018_selected, \n       aes(area = `Total Unit Sold`,\n           fill = `Median Unit Price ($ psm)`,\n           subgroup = `Planning Region`,\n           subgroup2 = `Planning Area`)) + \n  geom_treemap() +\n  geom_treemap_subgroup2_border(colour = \"gray40\",\n                                size = 2) +\n  geom_treemap_subgroup_border(colour = \"gray20\")"
  },
  {
    "objectID": "exercises/HE05e.html#installing-d3treer-package",
    "href": "exercises/HE05e.html#installing-d3treer-package",
    "title": "Hands-on Exercise 5e",
    "section": "6.1 Installing d3treeR package",
    "text": "6.1 Installing d3treeR package\nThis slide shows you how to install a R package which is not available in cran.\n\nIf this is the first time you install a package from github, you should install devtools package by using the code below or else you can skip this step.\n\n\n# install.packages(\"devtools\")\n\n\nNext, you will load the devtools library and install the package found in github by using the codes below.\n\n\nlibrary(devtools)\ninstall_github(\"timelyportfolio/d3treeR\")\n\n\nNow you are ready to launch d3treeR package\n\n\nlibrary(d3treeR)"
  },
  {
    "objectID": "exercises/HE05e.html#designing-an-interactive-treemap",
    "href": "exercises/HE05e.html#designing-an-interactive-treemap",
    "title": "Hands-on Exercise 5e",
    "section": "6.2 Designing An Interactive Treemap",
    "text": "6.2 Designing An Interactive Treemap\nThe codes below perform two processes.\n\ntreemap() is used to build a treemap by using selected variables in condominium data.frame. The treemap created is save as object called tm.\n\n\ntm &lt;- treemap(realis2018_summarised,\n        index=c(\"Planning Region\", \"Planning Area\"),\n        vSize=\"Total Unit Sold\",\n        vColor=\"Median Unit Price ($ psm)\",\n        type=\"value\",\n        title=\"Private Residential Property Sold, 2017\",\n        title.legend = \"Median Unit Price (S$ per sq. m)\"\n        )\n\n\n\n\n\n\n\n\n\nThen d3tree() is used to build an interactive treemap.\n\n\nd3tree(tm,rootname = \"Singapore\" )"
  },
  {
    "objectID": "exercises/THE01.html",
    "href": "exercises/THE01.html",
    "title": "Take-Home Exercise 1",
    "section": "",
    "text": "Student learning outcomes are widely recognized as a key indicator of educational quality and institutional effectiveness. Understanding what influences student performance can help institutions improve teaching approaches, strengthen support systems, and create learning environments that encourage success. As higher education continues to evolve alongside technological and social changes, examining these factors has become increasingly relevant for educators and researchers alike.\nThis study focuses on students from the University of Education, Vietnam National University, Hanoi, and explores the factors that may shape their academic outcomes. By looking at aspects such as lecturers’ quality, university support, curriculum structure, facilities, classroom competition, and peer influence, the dataset offers useful insights into the conditions that contribute to student achievement and overall learning experiences.\n\n\n\nThe dataset for this exercise was retreived from Mendeley Data - Dataset about VNU students. It is provided in .xlsx format and is accompanied by a codebook that outlines the question types and survey response options in English.\nThe dataset was collected through a structured survey administered between March and June 2023 to students and alumni of the University of Education, Vietnam National University, Hanoi. A total of 2,170 respondents participated, providing information on multiple dimensions that may affect learning outcomes.\n\n\n\nUsing this dataset, the objective is to apply appropriate Exploratory Data Analysis (EDA) techniques and data visualization methods to uncover meaningful insights into the factors affecting student learning outcomes. The analysis will focus on identifying patterns, distributions, and relationships among key variables, as well as examining how different academic and institutional factors contribute to student success."
  },
  {
    "objectID": "exercises/THE01.html#background",
    "href": "exercises/THE01.html#background",
    "title": "Take-Home Exercise 1",
    "section": "",
    "text": "Student learning outcomes are widely recognized as a key indicator of educational quality and institutional effectiveness. Understanding what influences student performance can help institutions improve teaching approaches, strengthen support systems, and create learning environments that encourage success. As higher education continues to evolve alongside technological and social changes, examining these factors has become increasingly relevant for educators and researchers alike.\nThis study focuses on students from the University of Education, Vietnam National University, Hanoi, and explores the factors that may shape their academic outcomes. By looking at aspects such as lecturers’ quality, university support, curriculum structure, facilities, classroom competition, and peer influence, the dataset offers useful insights into the conditions that contribute to student achievement and overall learning experiences."
  },
  {
    "objectID": "exercises/THE01.html#the-data",
    "href": "exercises/THE01.html#the-data",
    "title": "Take-Home Exercise 1",
    "section": "",
    "text": "The dataset for this exercise was retreived from Mendeley Data - Dataset about VNU students. It is provided in .xlsx format and is accompanied by a codebook that outlines the question types and survey response options in English.\nThe dataset was collected through a structured survey administered between March and June 2023 to students and alumni of the University of Education, Vietnam National University, Hanoi. A total of 2,170 respondents participated, providing information on multiple dimensions that may affect learning outcomes."
  },
  {
    "objectID": "exercises/THE01.html#the-task",
    "href": "exercises/THE01.html#the-task",
    "title": "Take-Home Exercise 1",
    "section": "",
    "text": "Using this dataset, the objective is to apply appropriate Exploratory Data Analysis (EDA) techniques and data visualization methods to uncover meaningful insights into the factors affecting student learning outcomes. The analysis will focus on identifying patterns, distributions, and relationships among key variables, as well as examining how different academic and institutional factors contribute to student success."
  },
  {
    "objectID": "exercises/THE01.html#checking-for-missing-values",
    "href": "exercises/THE01.html#checking-for-missing-values",
    "title": "Take-Home Exercise 1",
    "section": "3.2 Checking for missing values",
    "text": "3.2 Checking for missing values\nBefore making any changes to the variables, it is important to first check for missing values to prevent issues during recoding. If missing values are not identified beforehand, there is a risk of unintentionally assigning values to observations that were originally recorded as NA.\nis.na() allows us to identify missing values in our dataset and sum() counts the frequency of such missing values.\n\nsum(is.na(vnu))\n\n[1] 0\n\n\nThere are no missing values in the dataset."
  },
  {
    "objectID": "exercises/THE01.html#recoding",
    "href": "exercises/THE01.html#recoding",
    "title": "Take-Home Exercise 1",
    "section": "3.2 Recoding",
    "text": "3.2 Recoding"
  },
  {
    "objectID": "exercises/THE01.html#recoding-to-categorical-variables",
    "href": "exercises/THE01.html#recoding-to-categorical-variables",
    "title": "Take-Home Exercise 1",
    "section": "3.3 Recoding to Categorical Variables",
    "text": "3.3 Recoding to Categorical Variables\nThe mutate() function from the dplyr package is used alongside recode() and factor() to convert the variables as per below. The recode() function is used to assign descriptive labels to nominal variables that have no natural order, while factor() is used for ordinal variables to convert them into categories and ensure they are displayed in the correct logical order during analysis and visualisation.\n\nYearGenderPolicy Government SupportMinorityPoor HouseholdStudy Time\n\n\n\nvnu &lt;- vnu %&gt;%\n  mutate(\n    Year = factor(Year,\n                  levels = 1:5,\n                  labels = c(\"First-year\",\n                             \"Second-year\",\n                             \"Third-year\",\n                             \"Fourth-year\",\n                             \"Graduated\"),\n                  ordered = TRUE))\n\n\n\n\nvnu &lt;- vnu %&gt;%\n  mutate(Gender = recode(as.character(Gender), '1' = 'Male', '2' = 'Female'))\n\n\n\n\nvnu &lt;- vnu %&gt;%\n  mutate(Policy_Stu = recode(as.character(Policy_Stu), '1' = 'Yes', '2' = 'No'))\n\n\n\n\nvnu &lt;- vnu %&gt;%\n  mutate(Minority_Stu = recode(as.character(Minority_Stu), '1' = 'Yes', '2' = 'No'))\n\n\n\n\nvnu &lt;- vnu %&gt;%\n  mutate(Poor_Stu = recode(as.character(Poor_Stu), '1' = 'Yes', '2' = 'No'))\n\n\n\n\nvnu &lt;- vnu %&gt;%\n  mutate(\n    Time_Studying = factor(Time_Studying,\n                           levels = 1:5,\n                           labels = c(\"&lt;2 hrs\",\"2–4 hrs\",\"4–6 hrs\",\"6–8 hrs\",\"&gt;8 hrs\"),\n                           ordered = TRUE)\n  )\n\n\n\n\nThe glimpse() function is used again to check whether the above variables have been recoded correctly.\n\nglimpse(vnu)\n\nRows: 2,170\nColumns: 22\n$ Year               &lt;ord&gt; Graduated, Graduated, Graduated, Graduated, Graduat…\n$ Gender             &lt;chr&gt; \"Female\", \"Male\", \"Female\", \"Female\", \"Male\", \"Fema…\n$ Policy_Stu         &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"N…\n$ Minority_Stu       &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No…\n$ Poor_Stu           &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No…\n$ Father_Edu         &lt;dbl&gt; 4, 3, 4, 5, 2, 5, 6, 5, 5, 5, 3, 3, 3, 3, 3, 4, 5, …\n$ Mother_Edu         &lt;dbl&gt; 4, 3, 4, 4, 3, 5, 5, 4, 5, 4, 3, 3, 3, 4, 3, 4, 5, …\n$ Father_Occupation  &lt;dbl&gt; 2, 2, 1, 1, 3, 1, 1, 5, 1, 3, 3, 3, 3, 3, 2, 2, 4, …\n$ Mother_Occupation  &lt;dbl&gt; 3, 4, 2, 1, 3, 2, 4, 3, 1, 3, 3, 3, 3, 3, 2, 2, 4, …\n$ Time_Friends       &lt;dbl&gt; 2, 1, 1, 2, 1, 1, 2, 2, 1, 3, 2, 2, 2, 2, 2, 1, 3, …\n$ Time_SocicalMedia  &lt;dbl&gt; 2, 3, 2, 2, 2, 3, 2, 2, 2, 2, 2, 1, 2, 2, 2, 3, 4, …\n$ Time_Studying      &lt;ord&gt; &gt;8 hrs, &gt;8 hrs, &gt;8 hrs, &gt;8 hrs, &lt;2 hrs, 2–4 hrs, &gt;8…\n$ GPA                &lt;dbl&gt; 4, 3, 4, 4, 4, 4, 3, 5, 5, 3, 3, 4, 4, 3, 5, 4, 4, …\n$ Adapt_Learning_Uni &lt;dbl&gt; 4, 3, 4, 4, 5, 4, 4, 4, 4, 3, 4, 4, 4, 5, 4, 4, 5, …\n$ Study_Methods      &lt;dbl&gt; 4, 3, 4, 4, 5, 4, 4, 4, 4, 4, 4, 4, 4, 5, 4, 3, 5, …\n$ SupportOf_Uni      &lt;dbl&gt; 3, 3, 4, 5, 5, 5, 5, 5, 4, 5, 4, 4, 4, 5, 4, 4, 5, …\n$ SupportOf_Lec      &lt;dbl&gt; 4, 4, 4, 5, 5, 4, 5, 4, 4, 5, 4, 4, 4, 5, 4, 4, 5, …\n$ Facilitie_Uni      &lt;dbl&gt; 4, 4, 3, 5, 5, 5, 5, 4, 4, 5, 4, 4, 4, 5, 4, 3, 5, …\n$ Quality_Lecturer   &lt;dbl&gt; 4, 3, 4, 5, 5, 5, 4, 5, 5, 5, 4, 4, 4, 5, 4, 4, 5, …\n$ TrainingCurriculum &lt;dbl&gt; 4, 3, 4, 4, 5, 4, 5, 4, 4, 5, 4, 4, 4, 5, 4, 3, 5, …\n$ Competitive_Class  &lt;dbl&gt; 3, 3, 4, 4, 4, 3, 4, 3, 4, 4, 4, 4, 4, 5, 4, 4, 5, …\n$ InfuenceF_Friends  &lt;dbl&gt; 3, 4, 4, 4, 5, 3, 5, 4, 4, 4, 4, 4, 4, 5, 4, 5, 4, …\n\n\nWe also check for missing values again.\n\nsum(is.na(vnu))\n\n[1] 0"
  },
  {
    "objectID": "exercises/THE01.html#gpa-vs-study-time",
    "href": "exercises/THE01.html#gpa-vs-study-time",
    "title": "Take-Home Exercise 1",
    "section": "5.1 GPA vs Study Time",
    "text": "5.1 GPA vs Study Time\n\nvnu &lt;- vnu %&gt;%\n  mutate(\n    Time_Studying = factor(Time_Studying,\n                           levels = 1:5,\n                           labels = c(\"&lt;2 hrs\",\"2–4 hrs\",\"4–6 hrs\",\"6–8 hrs\",\"&gt;8 hrs\"),\n                           ordered = TRUE)\n  )\n\n\nggplot(vnu, aes(x = Time_Studying, y = GPA)) +\n  \n  geom_boxplot(\n    fill = \"steelblue\",\n    alpha = 0.7\n  ) +\n  \n  stat_summary(\n    fun = mean,\n    geom = \"point\",\n    shape = 18,\n    size = 3,\n    color = \"red\"\n  ) +\n  \n  scale_y_continuous(breaks = 1:5) +\n  \n  labs(\n    title = \"Academic Performance Across Study Time\",\n    x = \"Daily Study Time\",\n    y = \"GPA\"\n  )"
  },
  {
    "objectID": "exercises/THE01.html#academic-performace-across-study-time",
    "href": "exercises/THE01.html#academic-performace-across-study-time",
    "title": "Take-Home Exercise 1",
    "section": "5.1 Academic Performace Across Study Time",
    "text": "5.1 Academic Performace Across Study Time\nWhen considering academic performance, one of the first factors that comes to mind is how much time students spend studying. The effort devoted to academic work can play a meaningful role in shaping learning outcomes, making it valuable to explore how study time relates to students’ GPA.\nA stacked bar chart is created to analyse the distribution of GPA across different study time categories. This visualisation allows for an easy comparison of the proportion of students within each GPA band for every study duration, helping to identify whether higher study time is associated with stronger academic outcomes.\nThe ggplot() function from the ggplot2 package is used to initialise the visualisation, while geom_bar() is used to create the bar chart. Daily study time is on the x‑axis, and each bar is stacked by GPA category.  position = \"fill\"  is used to scale each bar to a total height of 1, so the bar segments represent the proportion of students in each GPA category within a study‑time group. The y‑axis is formatted as a percentage using scale_y_continuous(labels = scales::percent) so the proportions are shown from 0% to 100%.\n\n\nShow code\nggplot(vnu, \n       aes(\n         x = Time_Studying, \n         fill = factor(GPA,\n                       levels = 1:5,\n                       labels = c(\"Poor\",\"Average\",\"Fair\",\"Good\",\"Excellent\")))) +\n  geom_bar(position = \"fill\") +\n  labs(\n    title = \"GPA Distribution Across Study Time\",\n    x = \"Daily Study Time\",\n    y = \"Percentage\",\n    fill = \"GPA\"\n  ) +\n  scale_y_continuous(labels = scales::percent) +\n  theme_minimal() +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNoteInsights\n\n\n\n\nMost students fall within the Fair (GPA 3) and Good (GPA 4) categories across all study durations, suggesting that overall academic performance is generally moderate to strong regardless of the amount of time spent studying.\nNotably, no students who study fewer than 4 hours per day achieve an Excellent GPA, suggesting that a minimum level of study time may be necessary to reach the highest academic outcomes.\nStudents who study 2–4 hours daily show a slightly higher proportion of Average and Poor GPAs compared to other groups, indicating that this duration may be less associated with stronger academic outcomes.\nAs study time increases to 6–8 hours and more than 8 hours, there is a modest rise in the proportion of students achieving Good and Excellent GPAs. This points toward a positive, though not dramatic, relationship between increased study time and improved learning outcomes."
  },
  {
    "objectID": "exercises/THE01.html#academic-performance-across-social-activity",
    "href": "exercises/THE01.html#academic-performance-across-social-activity",
    "title": "Take-Home Exercise 1",
    "section": "5.2 Academic Performance Across Social Activity",
    "text": "5.2 Academic Performance Across Social Activity\n\nvnu &lt;- vnu %&gt;%\n  mutate(\n    Time_Friends = factor(Time_Friends,\n                          levels = 1:5,\n                          labels = c(\"&lt;1 hr\",\"1–2 hrs\",\"2–3 hrs\",\"3–4 hrs\",\"&gt;4 hrs\"),\n                          ordered = TRUE),\n    \n    Time_SocicalMedia = factor(Time_SocicalMedia,\n                               levels = 1:5,\n                               labels = c(\"&lt;1 hr\",\"1–2 hrs\",\"2–3 hrs\",\"3–4 hrs\",\"&gt;4 hrs\"),\n                               ordered = TRUE)\n  )\n\n# Reshape data into long format\nvnu_long &lt;- vnu %&gt;%\n  pivot_longer(\n    cols = c(Time_Friends, Time_SocicalMedia),\n    names_to = \"Activity\",\n    values_to = \"Time\"\n  ) %&gt;%\n  \n  # Step 3 — Clean facet labels\n  mutate(\n    Activity = recode(Activity,\n                      \"Time_Friends\" = \"Time Spent with Friends\",\n                      \"Time_SocicalMedia\" = \"Social Media Usage\")\n  )\n\n\n# Step 4 — Create the faceted boxplot\nggplot(vnu_long, aes(x = Time, y = GPA)) +\n  \n  geom_boxplot(\n    fill = \"steelblue\",\n    alpha = 0.7\n  ) +\n  \n  stat_summary(\n    fun = mean,\n    geom = \"point\",\n    shape = 18,\n    size = 3,\n    color = \"red\"\n  ) +\n  \n  facet_wrap(~ Activity, nrow = 1) +\n  scale_y_continuous(breaks = 1:5) +\n  labs(\n    title = \"Academic Performance Across Social Activities\",\n    x = \"Daily Time Spent\",\n    y = \"GPA\"\n  )"
  },
  {
    "objectID": "exercises/THE01.html#summary-of-respondent-characteristics",
    "href": "exercises/THE01.html#summary-of-respondent-characteristics",
    "title": "Take-Home Exercise 1",
    "section": "Summary of Respondent Characteristics",
    "text": "Summary of Respondent Characteristics\n\nThe sample is primarily composed of alumni, indicating that the findings reflect post-study perspectives and may be subject to recall bias.\nFemale respondents constitute the majority of the dataset, suggesting that the results may largely capture female students’ experiences.\nBoth policy-supported and non-policy students are sufficiently represented, enabling meaningful comparisons between the two groups.\nMinority students are underrepresented, which may limit the extent to which the findings reflect diverse student backgrounds.\nOnly a small proportion of respondents reported coming from poor households, indicating that the sample is skewed towards students from relatively stable socioeconomic conditions.\nMost respondents fall within the Fair and Good GPA categories, suggesting that overall academic performance in the sample is moderate to strong, with relatively few students at the lower end of the scale."
  },
  {
    "objectID": "exercises/THE01.html#academic-performance-by-parents-education-level",
    "href": "exercises/THE01.html#academic-performance-by-parents-education-level",
    "title": "Take-Home Exercise 1",
    "section": "5.3 Academic Performance by Parent’s Education Level",
    "text": "5.3 Academic Performance by Parent’s Education Level\nBar charts are created to examine the relationship between parental education levels and students’ academic performance (GPA). This visualization allows for a clear comparison of GPA distributions across the different education categories for both fathers and mothers, helping to identify whether academic performance varies based on family educational background.\nThe geom_bar() function from the ggplot2 package is used to display the distribution of GPA within each education category. The parental education variables are relabelled within the plot to improve clarity and ensure that the categories are presented in a logical order. Additionally, the facet_wrap() function is applied to arrange the charts into separate panels, allowing the GPA distributions to be compared side by side while maintaining a consistent scale.\nSince the number of respondents differs across education groups, proportions are presented instead of raw counts to enable more meaningful comparisons within each category. The scale_y_continuous() function is used to display the values as percentages, and the labs() function provides clear titles and axis labels to enhance the overall readability of the visualisation.\n\nGPA with Father’s Education LevelGPA with Mother’s Education Level\n\n\n\n\nShow code\nggplot(data=vnu, \n       aes(x= GPA)) +\n  geom_bar(aes(y = after_stat(prop), group = 1), fill = \"blue4\") +\n  facet_wrap(~ factor(Father_Edu,\n                        levels = 1:6,\n                        labels = c(\"Primary school\",\n                                 \"Secondary school\",\n                                 \"High School\",\n                                 \"College school\",\n                                 \"University/graduate education\",\n                                 \"Other\"))\n                        ) +\n  labs(y = \"% of Students\") +\n  scale_y_continuous(labels = scales::percent)\n\n\n\n\n\n\n\n\n\n\n\n\n\nShow code\nggplot(data=vnu, \n       aes(x= GPA)) +\n  geom_bar(aes(y = after_stat(prop), group = 1), fill = \"deeppink3\") +\n  facet_wrap(~ factor(Mother_Edu,\n                        levels = 1:6,\n                        labels = c(\"Primary school\",\n                                 \"Secondary school\",\n                                 \"High School\",\n                                 \"College school\",\n                                 \"University/graduate education\",\n                                 \"Other\"))\n                        ) +\n  labs(y = \"% of Students\") +\n  scale_y_continuous(labels = scales::percent)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNoteInsights\n\n\n\n\nAcross both father’s and mother’s education levels, most students fall within the Fair (GPA 3) and Good (GPA 4) categories, indicating that academic performance is generally moderate to strong regardless of parental educational background.\nStudents whose parents have lower education levels (primary or secondary school) show a slightly higher concentration in the Fair category, while higher parental education corresponds with a modest increase in the proportion of students achieving Good and Excellent GPAs.\nThe GPA distributions across fathers and mothers’ education levels are highly comparable, with no substantial differences observed between the two. This suggests that the influence of parental education may operate at the household level rather than being attributable to one parent alone.\n\nOverall, the relatively small variation across educational level of parents indicates that while parental education may contribute to academic outcomes, it is unlikely to be a dominant determinant of student performance."
  },
  {
    "objectID": "exercises/THE01.html#year-1",
    "href": "exercises/THE01.html#year-1",
    "title": "Take-Home Exercise 1",
    "section": "Year",
    "text": "Year\nThe bar chart shows that no first- or second-year students participated in the survey, while the majority of respondents are alumni who have already graduated. As the dataset does not indicate how long ago these alumni completed their studies, there is a possibility of recall bias, where participants may not accurately remember their university experiences. This could introduce potential discrepancies in the results."
  },
  {
    "objectID": "exercises/THE01.html#gender-1",
    "href": "exercises/THE01.html#gender-1",
    "title": "Take-Home Exercise 1",
    "section": "Gender",
    "text": "Gender\nThe gender distribution of respondents is notably imbalanced, with females accounting for 1,930 participants compared to 240 males. This indicates that the sample is heavily female-dominated, which may influence the overall findings and limit the generalisability of the results across genders."
  },
  {
    "objectID": "exercises/THE01.html#policy-government-support-1",
    "href": "exercises/THE01.html#policy-government-support-1",
    "title": "Take-Home Exercise 1",
    "section": "Policy Government Support",
    "text": "Policy Government Support\nNon-policy students account for 1,404 respondents, while 766 students reported receiving government policy support. Although non-policy students represent a larger share of the sample, both groups are sufficiently represented, enabling reliable comparisons when examining differences in academic outcomes."
  },
  {
    "objectID": "exercises/THE01.html#minority-1",
    "href": "exercises/THE01.html#minority-1",
    "title": "Take-Home Exercise 1",
    "section": "Minority",
    "text": "Minority\nThe sample consists predominantly of non-minority students (2,041), with only 129 respondents identifying as minority students. This indicates that minority students are underrepresented in the dataset, which should be considered when interpreting findings related to student background and experiences."
  },
  {
    "objectID": "exercises/THE01.html#poor-household-1",
    "href": "exercises/THE01.html#poor-household-1",
    "title": "Take-Home Exercise 1",
    "section": "Poor Household",
    "text": "Poor Household\nMost participants indicated that they do not come from poor households (2,084), with only 86 respondents reporting otherwise. The limited representation of students from poorer households may constrain the ability to draw meaningful conclusions about the relationship between socioeconomic status and academic outcomes."
  },
  {
    "objectID": "exercises/THE01.html#gpa",
    "href": "exercises/THE01.html#gpa",
    "title": "Take-Home Exercise 1",
    "section": "GPA",
    "text": "GPA\nGPA is used as the primary variable to assess students’ academic performance in this analysis. As the objective of this study is to examine the factors that may influence learning outcomes, GPA serves as a key indicator against which other variables can be compared.\nAs per the codebook, below is the coding for the different GPA results:\n\nUnder 2.0 – Poor (1)\nFrom 2.0 to lower 2.5 – Average (2)\nFrom 2.5 to lower 3.2 – Fair (3)\nFrom 3.2 to lower  3.6 – Good (4)\nOver 3.6 – Excellent (5)\n\n\n\nShow code\nggplot(data = vnu, aes(x = GPA)) +\n  geom_bar() +\n  coord_flip() +\n  geom_text(stat = \"count\",\n            aes(label = after_stat(count)),\n            hjust = -0.2) +\n  theme_classic()\n\n\n\n\n\n\n\n\n\nThe concentration of students within the Fair and Good GPA bands suggests that academic performance is generally moderate to strong across the sample, with only few students underperforming."
  },
  {
    "objectID": "exercises/THE01.html#respondent-characteristics",
    "href": "exercises/THE01.html#respondent-characteristics",
    "title": "Take-Home Exercise 1",
    "section": "Respondent Characteristics",
    "text": "Respondent Characteristics\n\n\nShow code\np1 &lt;- ggplot(data = vnu, aes(x = Year)) +\n  geom_bar(fill = \"aquamarine3\") +\n  geom_text(stat = \"count\", \n            aes(label = after_stat(count)), \n            vjust = -0.5) +\n  theme_classic()\n\np2 &lt;- ggplot(data = vnu, aes(x = Gender)) +\n  geom_bar(fill = \"cadetblue3\") +\n  geom_text(stat = \"count\",\n            aes(label = after_stat(count)),\n            vjust = -0.5) +\n  theme_classic()\n\np3 &lt;- ggplot(data = vnu, aes(x = Policy_Stu)) +\n  geom_bar(fill = \"bisque3\") +\n  geom_text(stat = \"count\",\n            aes(label = after_stat(count)),\n            vjust = -0.5) +\n  theme_classic()\n\np4 &lt;- ggplot(data = vnu, aes(x = Minority_Stu)) +\n  geom_bar(fill = \"coral3\") +\n  geom_text(stat = \"count\",\n            aes(label = after_stat(count)),\n            vjust = -0.5) +\n  theme_classic()\n\np5 &lt;- ggplot(data = vnu, aes(x = Poor_Stu)) +\n  geom_bar(fill = \"darkolivegreen4\") +\n  geom_text(stat = \"count\",\n            aes(label = after_stat(count)),\n            vjust = -0.5) +\n  theme_classic()\n\n(p1 + p2) / plot_spacer() / (p3 + p4 + p5) +\n  plot_layout(heights = c(1, 0.08, 1))\n\n\n\n\n\n\n\n\n\nThe combined bar charts provide an overview of the respondents’ demographic characteristics. Most participants are alumni, with no first- or second-year students represented, suggesting that the findings largely reflect post-study perspectives and may be subject to recall bias. The sample is notably female-dominated, which could influence the generalisability of the results across genders.\nWhile both policy-supported and non-policy students are well represented, minority students and those from poor households form only a small proportion of the sample. This indicates that the dataset is skewed toward students from relatively stable socioeconomic backgrounds, a factor that should be considered when interpreting subsequent analyses of academic performance."
  },
  {
    "objectID": "exercises/THE01.html#academic-performandce-gpa",
    "href": "exercises/THE01.html#academic-performandce-gpa",
    "title": "Take-Home Exercise 1",
    "section": "Academic Performandce (GPA)",
    "text": "Academic Performandce (GPA)\nGPA is used as the primary variable to evaluate students’ academic performance in this analysis. As the study focuses on understanding the factors that may influence learning outcomes, GPA provides a useful point of reference for comparing other variables. It reflects how well students have grasped and applied their academic knowledge, making it a meaningful indicator of their overall learning outcomes.\nAccording to the codebook, the GPA results are coded as follows:\n\nUnder 2.0 – Poor (1)\nFrom 2.0 to lower 2.5 – Average (2)\nFrom 2.5 to lower 3.2 – Fair (3)\nFrom 3.2 to lower  3.6 – Good (4)\nOver 3.6 – Excellent (5)\n\n\n\nShow code\nggplot(data = vnu, aes(x = GPA)) +\n  geom_bar() +\n  coord_flip() +\n  geom_text(stat = \"count\",\n            aes(label = after_stat(count)),\n            hjust = -0.2) +\n  theme_classic()\n\n\n\n\n\n\n\n\n\nThe concentration of students within the Fair and Good GPA bands suggests that academic performance is generally moderate to strong across the sample, with only few students underperforming or having excellent GPAs."
  },
  {
    "objectID": "exercises/THE01.html#academic-performance-across-social-activities",
    "href": "exercises/THE01.html#academic-performance-across-social-activities",
    "title": "Take-Home Exercise 1",
    "section": "5.2 Academic Performance Across Social Activities",
    "text": "5.2 Academic Performance Across Social Activities\nSocial activities form an important part of university life and can influence students’ learning outcomes in different ways. While spending time with friends may support emotional well-being and reduce academic stress, excessive engagement in social media could potentially distract students from their studies. Examining how these activities relate to GPA therefore provides useful insight into whether students are maintaining a healthy balance between their academic responsibilities and social lives.\nTo explore these relationships, stacked bar charts are created to visualise the distribution of GPA across varying levels of time spent on social media and with friends.\n\n\nShow code\np1 &lt;- ggplot(vnu, \n       aes(x = factor(Time_SocicalMedia,\n                      levels = 1:5,\n                      labels = c(\"&lt;1 hr\",\"1–2 hrs\",\"2–3 hrs\",\"3–4 hrs\",\"&gt;4 hrs\")),\n           fill = factor(GPA,\n                         levels = 1:5,\n                         labels = c(\"Poor\",\"Average\",\"Fair\",\"Good\",\"Excellent\")\n                         ))) +\n  geom_bar(position = \"fill\") +\n  labs(\n    x = \"Daily Time Spent on Social Media\",\n    y = \"Percentage\",\n    fill = \"GPA\"\n  ) +\n  scale_y_continuous(labels = scales::percent) +\n  theme_minimal() \n\np2 &lt;- ggplot(vnu, \n       aes(x = factor(Time_Friends,\n                      levels = 1:5,\n                      labels = c(\"&lt;1 hr\",\"1–2 hrs\",\"2–3 hrs\",\"3–4 hrs\",\"&gt;4 hrs\")),\n           fill = factor(GPA,\n                         levels = 1:5,\n                         labels = c(\"Poor\",\"Average\",\"Fair\",\"Good\",\"Excellent\")))) +\n  geom_bar(position = \"fill\") +\n  labs(\n    x = \"Daily Time Spent with Friends\",\n    y = \"Percentage\",\n    fill = \"GPA\"\n  ) +\n  scale_y_continuous(labels = scales::percent) +\n  theme_minimal()\n\np1 / p2 \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNoteInsights\n\n\n\n\nAcross both social media usage and time spent with friends, the majority of students fall within the Fair and Good GPA categories, suggesting that academic performance remains relatively stable despite moderate levels of social engagement.\nStudents reporting the highest levels of social media usage exhibit a slightly greater proportion of Poor GPAs and a smaller share of Good GPAs compared to those with lower usage, indicating that excessive social media engagement may be associated with weaker academic outcomes.\nA comparable pattern is observed for time spent with friends, where students spending more than three hours show a modest increase in Poor GPAs alongside a decline in Good GPAs, pointing toward a mild negative relationship between extended social activity and academic performance.\nNotably, students who spend 3–4 hours with friends represent the largest proportion of Excellent GPAs among all time categories. However, the variation across categories is relatively small, suggesting that the relationship is not strongly pronounced."
  },
  {
    "objectID": "exercises/THE01.html#adaptation-to-the-learning-environment-and-support-from-uni-and-lecturers",
    "href": "exercises/THE01.html#adaptation-to-the-learning-environment-and-support-from-uni-and-lecturers",
    "title": "Take-Home Exercise 1",
    "section": "5.4 Adaptation to the learning environment and support from uni and lecturers",
    "text": "5.4 Adaptation to the learning environment and support from uni and lecturers\nTo understand whether the students’ likelihood of adapting to the learning environment is associated with the support they get from university and their lecturers’, which of these two have a higher correlation. To do this, we do a non-parametric correlation test using ggscatterstats() of ggstatsplot package\n\nUniversity supportLecturer supportFriends supportSocial mediaTime with Friends\n\n\n\nggscatterstats(\n  data = vnu,\n  x = SupportOf_Uni,\n  y = Adapt_Learning_Uni,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = vnu,\n  x = SupportOf_Lec,\n  y = Adapt_Learning_Uni,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = vnu,\n  x = TrainingCurriculum,\n  y = Adapt_Learning_Uni,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = vnu,\n  x = Time_SocicalMedia,\n  y = Adapt_Learning_Uni,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = vnu,\n  x = Time_Friends,\n  y = Adapt_Learning_Uni,\n  type = \"nonparametric\",\n  marginal = FALSE\n)"
  },
  {
    "objectID": "exercises/THE01.html#gpa-with-different-variables",
    "href": "exercises/THE01.html#gpa-with-different-variables",
    "title": "Take-Home Exercise 1",
    "section": "5.5 GPA with different variables",
    "text": "5.5 GPA with different variables\n\nAdapt_Learning_UniStudy_MethodsSupportOf_UniSupportOf_LecFacilitie_UniQuality_LecturerTrainingCurriculum\n\n\n\nggscatterstats(\n  data = vnu,\n  x = Adapt_Learning_Uni,\n  y = GPA,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = vnu,\n  x = Study_Methods,\n  y = GPA,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = vnu,\n  x = SupportOf_Uni,\n  y = GPA,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = vnu,\n  x = SupportOf_Lec,\n  y = GPA,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = vnu,\n  x = Facilitie_Uni,\n  y = GPA,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = vnu,\n  x = Quality_Lecturer,\n  y = GPA,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\nggscatterstats(\n  data = vnu,\n  x = TrainingCurriculum,\n  y = GPA,\n  type = \"nonparametric\",\n  marginal = FALSE\n)"
  },
  {
    "objectID": "exercises/THE01.html#academic-performance-across-institutional-factors",
    "href": "exercises/THE01.html#academic-performance-across-institutional-factors",
    "title": "Take-Home Exercise 1",
    "section": "5.4 Academic Performance Across Institutional Factors",
    "text": "5.4 Academic Performance Across Institutional Factors\nLearning outcomes are influenced not only by students’ individual efforts but also by the academic environment provided by the university. Institutional elements such as facilities, lecturer quality, and curriculum suitability can shape students’ learning experiences and potentially affect their academic performance. Therefore, this section examines how these institutional factors relate to students’ GPA in order to better understand the role of the university in supporting learning outcomes.\nStacked bar charts are created to examine the relationship between GPA and selected institutional factors, namely university facilities, lecturer quality, and curriculum suitability. This visualisation enables a clear comparison of GPA distributions within each response category while highlighting how academic performance varies across different levels of institutional support.\nThe ggplot() function from the ggplot2 package is used to initialise the visualisations, while geom_bar(position = \"fill\") is applied to display the proportion of students within each GPA category. The institutional variables are converted into ordered factors using the factor() function so that the response levels — ranging from “Not at all” to “Very” — appear sequentially in the charts. Additionally, scale_y_continuous() is used to present the y-axis in percentages, and labs() is applied to provide clear titles and axis labels, improving overall readability.\n\n\nShow code\np1 &lt;- ggplot(vnu,\n       aes(x = factor(Facilitie_Uni,\n                      levels = 1:5,\n                      labels = c(\"Not at all\",\"Little\",\"Moderate\",\"Quite\",\"Very\")),\n           fill = factor(GPA,\n                         levels = 1:5,\n                         labels = c(\"Poor\",\"Average\",\"Fair\",\"Good\",\"Excellent\")))) +\n  geom_bar(position = \"fill\") +\n  labs(\n    x = \"Responsiveness of University Facilities\",\n    y = \"Percentage\",\n    fill = \"GPA\"\n  ) +\n  scale_y_continuous(labels = scales::percent) +\n  theme_minimal()\n\np2 &lt;- ggplot(vnu,\n       aes(x = factor(Quality_Lecturer),\n           fill = factor(GPA,\n                         levels = 1:5,\n                         labels = c(\"Poor\",\"Average\",\"Fair\",\"Good\",\"Excellent\")))) +\n  geom_bar(position = \"fill\") +\n  labs(\n    x = \"Lecturer Quality\",\n    y = \"Percentage\",\n    fill = \"GPA\"\n  ) +\n  scale_y_continuous(labels = scales::percent) +\n  theme_minimal()\n\np3 &lt;- ggplot(vnu,\n       aes(x = factor(TrainingCurriculum,\n                      levels = 1:5,\n                      labels = c(\"Not at all\",\"Little\",\"Moderate\",\"Quite\",\"Very\")),\n           fill = factor(GPA,\n                         levels = 1:5,\n                         labels = c(\"Poor\",\"Average\",\"Fair\",\"Good\",\"Excellent\")))) +\n  geom_bar(position = \"fill\") +\n  labs(\n    x = \"Curriculum Suitability\",\n    y = \"Percentage\",\n    fill = \"GPA\"\n  ) +\n  scale_y_continuous(labels = scales::percent) +\n  theme_minimal()\n\n(p1 / p3) | p2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNoteInsights\n\n\n\n\nLecturer quality shows the strongest positive pattern, with higher ratings corresponding to a greater proportion of Good and Excellent GPAs and fewer lower GPAs. This suggests that teaching quality may be closely linked to learning outcomes.\nIn contrast, university facilities show minimal variation in GPA distributions, suggesting a weaker relationship with academic performance.\nCurriculum suitability demonstrates a moderate association with GPA, though the trend is less consistent, implying that while the curriculum supports learning, its influence may not be as strong.\nOverall, factors directly related to teaching appear to be more strongly associated with learning outcomes than broader institutional resources."
  },
  {
    "objectID": "exercises/THE01.html#adaptation-to-the-learning-environment-and-institutional-support",
    "href": "exercises/THE01.html#adaptation-to-the-learning-environment-and-institutional-support",
    "title": "Take-Home Exercise 1",
    "section": "5.5 Adaptation to the Learning Environment and Institutional Support",
    "text": "5.5 Adaptation to the Learning Environment and Institutional Support\nWhile the earlier analysis examined GPA as a primary measure of learning outcomes, students’ ability to adapt to the learning environment also represents an important dimension of their educational experience. Exploring this variable provides a broader understanding of the factors that support student learning. In particular, analysing its relationship with the support provided by the university and lecturers can offer valuable insight into the institutional conditions that may enhance students’ learning experiences.\nTo examine whether students’ ability to adapt to the learning environment is associated with the level of support received from the university and lecturers, a non-parametric correlation analysis is conducted to determine which factor demonstrates a stronger relationship with adaptation. The ggscatterstats() function from the ggstatsplot package is used to perform and visualise this correlation test.\n\nUniversity supportLecturer support\n\n\n\n\nShow code\nggscatterstats(\n  data = vnu,\n  x = SupportOf_Uni,\n  y = Adapt_Learning_Uni,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\nShow code\nggscatterstats(\n  data = vnu,\n  x = SupportOf_Lec,\n  y = Adapt_Learning_Uni,\n  type = \"nonparametric\",\n  marginal = FALSE\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNoteInsights\n\n\n\n\nBoth university support and lecturer support show a moderate positive correlation with students’ ability to adapt to the learning environment, suggesting that stronger institutional and academic support is associated with better learning adjustment.\nUniversity support demonstrates a slightly stronger relationship with adaptation (Spearman’s ρ = 0.44) compared to lecturer support (ρ = 0.40), suggesting that while lecturer guidance remains important, institutional support forms a critical foundation for facilitating students’ transition into and engagement with the learning environment.\nDespite being statistically significant, the correlations are moderate rather than strong, meaning that support alone does not fully explain students’ adaptation. Other factors such as personal motivation, peer networks, and study habits may also influence how well students adjust."
  },
  {
    "objectID": "exercises/THE01.html#key-findings",
    "href": "exercises/THE01.html#key-findings",
    "title": "Take-Home Exercise 1",
    "section": "Key Findings",
    "text": "Key Findings\n\nAcademic performance shows a slight improvement with increased study time, though the relationship is relatively weak.\nHigher levels of social media use and time spent with friends are associated with a modest rise in lower GPAs, but the differences are not substantial.\nParental education demonstrates only minor variation in GPA distributions, indicating a limited influence on learning outcomes.\nAmong institutional factors, lecturer quality exhibits the strongest positive association with GPA, followed by curriculum suitability, while university facilities show minimal impact.\nThe sample is dominated by certain demographic groups, which may affect the broader applicability of the findings."
  },
  {
    "objectID": "exercises/THE01.html#recommendations-for-future-research",
    "href": "exercises/THE01.html#recommendations-for-future-research",
    "title": "Take-Home Exercise 1",
    "section": "Recommendations for Future Research",
    "text": "Recommendations for Future Research\n\nGather more balanced and representative data to strengthen the reliability of conclusions.\nConsider additional variables such as student motivation, learning behaviours, mental well-being, and access to academic support for a more holistic analysis.\nApply advanced statistical techniques to better understand the strength of these relationships."
  },
  {
    "objectID": "exercises/HE06.html",
    "href": "exercises/HE06.html",
    "title": "Hands-on Exercise 6",
    "section": "",
    "text": "By the end of this hands-on exercise, we will be able create the followings data visualisation by using R packages:\n\ncalender heatmap using ggplot2 functions,\ncycle plot using ggplot2 function,\nslopegraph"
  },
  {
    "objectID": "exercises/HE06.html#importing-and-examining-the-dataset",
    "href": "exercises/HE06.html#importing-and-examining-the-dataset",
    "title": "Hands-on Exercise 6",
    "section": "3.1 Importing and examining the dataset",
    "text": "3.1 Importing and examining the dataset\n\nImporting DataExamining the data structure\n\n\nFor the purpose of this hands-on exercise, eventlog.csv file will be used. This data file consists of 199,999 rows of time-series cyber attack records by country.\nWe will use the code chunk below to import eventlog.csv file into R environment and called the data frame as attacks.\n\nattacks &lt;- read_csv(\"../data/eventlog.csv\")\n\n\n\nIt is always a good practice to examine the imported data frame before performing further analysis.\nBelow, we use kable() to review the structure of the imported data frame.\n\nkable(head(attacks))\n\n\n\n\ntimestamp\nsource_country\ntz\n\n\n\n\n2015-03-12 15:59:16\nCN\nAsia/Shanghai\n\n\n2015-03-12 16:00:48\nFR\nEurope/Paris\n\n\n2015-03-12 16:02:26\nCN\nAsia/Shanghai\n\n\n2015-03-12 16:02:38\nUS\nAmerica/Chicago\n\n\n2015-03-12 16:03:22\nCN\nAsia/Shanghai\n\n\n2015-03-12 16:03:45\nCN\nAsia/Shanghai\n\n\n\n\n\nThere are three columns, namely timestamp, source_country and tz.\n\ntimestamp field stores date-time values in POSIXct format.\nsource_country field stores the source of the attack. It is in ISO 3166-1 alpha-2 country code.\ntz field stores time zone of the source IP address."
  },
  {
    "objectID": "exercises/HE06.html#data-preparation",
    "href": "exercises/HE06.html#data-preparation",
    "title": "Hands-on Exercise 6",
    "section": "3.2 Data Preparation",
    "text": "3.2 Data Preparation\nStep 1: Deriving weekday and hour of day fields\nBefore we can plot the calender heatmap, two new fields namely wkday and hour need to be derived. In this step, we will write a function to perform this task.\n\nmake_hr_wkday &lt;- function(ts, sc, tz) {\n  real_times &lt;- ymd_hms(ts, \n                        tz = tz[1], \n                        quiet = TRUE)\n  dt &lt;- data.table(source_country = sc,\n                   wkday = weekdays(real_times),\n                   hour = hour(real_times))\n  return(dt)\n  }\n\n\n\n\n\n\n\nNote\n\n\n\n\nymd_hms() and hour() are from lubridate package, and\nweekdays() is a base R function.\n\n\n\nStep 2: Deriving the attacks tibble data frame\n\nwkday_levels &lt;- c('Saturday', 'Friday', \n                  'Thursday', 'Wednesday', \n                  'Tuesday', 'Monday', \n                  'Sunday')\n\nattacks &lt;- attacks %&gt;%\n  group_by(tz) %&gt;%\n  do(make_hr_wkday(.$timestamp, \n                   .$source_country, \n                   .$tz)) %&gt;% \n  ungroup() %&gt;% \n  mutate(wkday = factor(\n    wkday, levels = wkday_levels),\n    hour  = factor(\n      hour, levels = 0:23))\n\n\n\n\n\n\n\nNote\n\n\n\nBeside extracting the necessary data into attacks data frame, mutate() of dplyr package is used to convert wkday and hour fields into factor so they’ll be ordered when plotting.\n\n\nThe table below shows the tidy tibble table after processing.\n\nkable(head(attacks))\n\n\n\n\ntz\nsource_country\nwkday\nhour\n\n\n\n\nAfrica/Cairo\nBG\nSaturday\n20\n\n\nAfrica/Cairo\nTW\nSunday\n6\n\n\nAfrica/Cairo\nTW\nSunday\n8\n\n\nAfrica/Cairo\nCN\nSunday\n11\n\n\nAfrica/Cairo\nUS\nSunday\n15\n\n\nAfrica/Cairo\nCA\nMonday\n11"
  },
  {
    "objectID": "exercises/HE06.html#building-the-calendar-heatmaps",
    "href": "exercises/HE06.html#building-the-calendar-heatmaps",
    "title": "Hands-on Exercise 6",
    "section": "3.3 Building the calendar heatmaps",
    "text": "3.3 Building the calendar heatmaps\n\ngrouped &lt;- attacks %&gt;% \n  count(wkday, hour) %&gt;% \n  ungroup() %&gt;%\n  na.omit()\n\nggplot(grouped, \n       aes(hour, \n           wkday, \n           fill = n)) + \ngeom_tile(color = \"white\", \n          size = 0.1) + \ntheme_tufte(base_family = \"Helvetica\") + \ncoord_equal() +\nscale_fill_gradient(name = \"# of attacks\",\n                    low = \"sky blue\", \n                    high = \"dark blue\") +\nlabs(x = NULL, \n     y = NULL, \n     title = \"Attacks by weekday and time of day\") +\ntheme(axis.ticks = element_blank(),\n      plot.title = element_text(hjust = 0.5),\n      legend.title = element_text(size = 8),\n      legend.text = element_text(size = 6) )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nImportantThings to learn from the code chunk above\n\n\n\n\na tibble data table called grouped is derived by aggregating the attack by wkday and hour fields.\na new field called n is derived by using group_by() and count() functions.\nna.omit() is used to exclude missing value.\ngeom_tile() is used to plot tiles (grids) at each x and y position. color and size arguments are used to specify the border color and line size of the tiles.\ntheme_tufte() of ggthemes package is used to remove unnecessary chart junk. To learn which visual components of default ggplot2 have been excluded, you are encouraged to comment out this line to examine the default plot.\ncoord_equal() is used to ensure the plot will have an aspect ratio of 1:1.\nscale_fill_gradient() function is used to creates a two colour gradient (low-high).\n\n\n\nThen we can simply group the count by hour and wkday and plot it, since we know that we have values for every combination there’s no need to further preprocess the data."
  },
  {
    "objectID": "exercises/HE06.html#plotting-multiple-calendar-heatmaps",
    "href": "exercises/HE06.html#plotting-multiple-calendar-heatmaps",
    "title": "Hands-on Exercise 6",
    "section": "3.4 Plotting multiple calendar heatmaps",
    "text": "3.4 Plotting multiple calendar heatmaps\nTask: Building multiple heatmaps for the top four countries with the highest number of attacks.\nStep 1: Deriving attack by country object\nIn order to identify the top 4 countries with the highest number of attacks, we need to do the following:\n\ncount the number of attacks by country,\ncalculate the percent of attacks by country, and\nsave the results in a tibble data frame.\n\n\nattacks_by_country &lt;- count(\n  attacks, source_country) %&gt;%\n  mutate(percent = percent(n/sum(n))) %&gt;%\n  arrange(desc(n))\n\nStep 2: Preparing the tidy data frame\nIn this step, we need to extract the attack records of the top 4 countries from attacks data frame and save the data in a new tibble data frame (i.e. top4_attacks).\n\ntop4 &lt;- attacks_by_country$source_country[1:4]\ntop4_attacks &lt;- attacks %&gt;%\n  filter(source_country %in% top4) %&gt;%\n  count(source_country, wkday, hour) %&gt;%\n  ungroup() %&gt;%\n  mutate(source_country = factor(\n    source_country, levels = top4)) %&gt;%\n  na.omit()\n\nStep 3: Plotting the Multiple Calender Heatmap by using ggplot2 package\n\nggplot(top4_attacks, \n       aes(hour, \n           wkday, \n           fill = n)) + \n  geom_tile(color = \"white\", \n          size = 0.1) + \n  theme_tufte(base_family = \"Helvetica\") + \n  coord_equal() +\n  scale_fill_gradient(name = \"# of attacks\",\n                    low = \"sky blue\", \n                    high = \"dark blue\") +\n  facet_wrap(~source_country, ncol = 2) +\n  labs(x = NULL, y = NULL, \n     title = \"Attacks on top 4 countries by weekday and time of day\") +\n  theme(axis.ticks = element_blank(),\n        axis.text.x = element_text(size = 7),\n        plot.title = element_text(hjust = 0.5),\n        legend.title = element_text(size = 8),\n        legend.text = element_text(size = 6) )"
  }
]